import{l as Q,_ as Z,B as ee,a as te}from"./ThemeSetting.vue_vue_type_style_index_0_lang-DD6HlpyL.js";import{u as A}from"./theme-B_fFCOe2.js";import{d as D,r as $,o as d,c as u,a,n as b,b as q,w,e as t,f as _,u as o,t as S,F as H,g as m,h as oe,i as I,j as ne,k as W,l as y,m as Y,p as C,q as ae}from"./index-dje85-2q.js";import{h as ie}from"./moment-C5S46NFB.js";import{_ as L}from"./SelectView.vue_vue_type_style_index_0_lang-DMoF7NIA.js";import{_ as G}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-CPhRxPp-.js";import"./axios-BimPEqV4.js";const F=D({__name:"TopNavAnchor",props:{icon:{type:String,required:!0},textTheme:{type:String}},setup(i){return(s,r)=>{const n=$("font-awesome-icon");return d(),u("a",{href:"javascript:void(0)",class:b([i.textTheme?i.textTheme:"text-light","topnav-item"])},[a(n,{icon:i.icon},null,8,["icon"])],2)}}}),le={key:1,href:"javascript:void(0)",class:"navitem-item","active-class":"navitem-active"},T=D({__name:"NavItem",props:{icon:{type:String,required:!0},menuName:{type:String,required:!0},redirect:{type:String,required:!0},textTheme:{type:String,default:"mtext-light"},isNegative:{type:Boolean,required:!1}},setup(i){const s=A();return(r,n)=>{const l=$("font-awesome-icon"),x=$("router-link");return i.redirect?(d(),q(x,{key:0,to:i.redirect,class:"navitem-item","active-class":"navitem-active"},{default:w(()=>[t("div",{style:_({background:`linear-gradient(-310deg,${o(s).accentColor},${o(s).accentColorSecondary})`})},[a(l,{icon:i.icon},null,8,["icon"])],4),t("span",{class:b(i.isNegative?"mtext-danger":i.textTheme)},S(i.menuName),3)]),_:1},8,["to"])):(d(),u("a",le,[t("div",{style:_({background:`linear-gradient(-310deg,${o(s).accentColor},${o(s).accentColorSecondary})`})},[a(l,{icon:i.icon},null,8,["icon"])],4),t("span",{class:b(i.isNegative?"mtext-danger":i.textTheme)},S(i.menuName),3)]))}}}),se=D({__name:"DashSidebarMenu",props:{textTheme:{type:String,required:!0}},emits:["clickSignOut"],setup(i,{emit:s}){const r=A(),n=()=>{r.notifyConfirm("Keluar","Anda yakin ingin keluar?","Ya","Batal",async()=>{try{localStorage.setItem("authToken",""),localStorage.setItem("userid",""),r.notifyAlertSuccess("Berhasil","Anda telah keluar","Oke!",()=>{window.location.href="/login"})}catch{r.notifyAlertSuccess("Gagal","Anda telah keluar","Oke!",()=>{})}},()=>{})};return(l,x)=>(d(),u(H,null,[a(T,{"text-theme":`${i.textTheme}`,icon:"home",redirect:"/dashboard","menu-name":"Dashboard"},null,8,["text-theme"]),t("div",{style:_({color:o(r).accentColor}),class:"aside-menu-divider"},"FOL",4),a(T,{"text-theme":`${i.textTheme}`,icon:"chart-line",redirect:"/fol/monitoring","menu-name":"Monitoring FOL"},null,8,["text-theme"]),a(T,{"text-theme":`${i.textTheme}`,icon:"chart-line",redirect:"/fol/linechart","menu-name":"Line Chart"},null,8,["text-theme"]),a(T,{"text-theme":`${i.textTheme}`,icon:"tachometer-alt",redirect:"/fol/gauge","menu-name":"Gauges"},null,8,["text-theme"]),a(T,{"text-theme":`${i.textTheme}`,icon:"clock",redirect:"/fol/histdata_splitted","menu-name":"History Data - Splitted"},null,8,["text-theme"]),a(T,{"text-theme":`${i.textTheme}`,icon:"play",redirect:"/fol/playback","menu-name":"Playback"},null,8,["text-theme"]),a(T,{"text-theme":`${i.textTheme}`,icon:"microchip",redirect:"/fol/devmon","menu-name":"Device Monitoring"},null,8,["text-theme"]),t("div",{style:_({color:o(r).accentColor}),class:"aside-menu-divider"},"Keluar",4),a(T,{"text-theme":`${i.textTheme}`,icon:"sign-out",redirect:"","is-negative":!0,"menu-name":"Sign-out",onClick:n},null,8,["text-theme"])],64))}}),re="/assets/skk-a155yGtW.webp",ce="/assets/iog-Xuip5NNy.webp",de="/assets/bumn-CTkNxYDZ.webp",ue=()=>{const i=m(!1),s=m([]),r=m("");let n=null;const l=m(""),x=async(v,P,f,N)=>{f=="video/webm;codecs=vp8"?l.value="webm":f=="video/mp4;codecs=avc1"?MediaRecorder.isTypeSupported("video/mp4;codecs=avc1")?l.value="mp4":(f="video/webm;codecs=vp8",l.value="webm"):f=="video/webm;codecs=h264"?(f="video/webm;codecs=h264",l.value="webm",console.log("h264 selected!")):(f="video/webm;codecs=vp8",l.value="webm");try{const O=parseInt(N.split("x")[0]),U=parseInt(N.split("x")[1]),z=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:O},height:{ideal:U},frameRate:{ideal:v,max:v}},audio:!1});n=new MediaRecorder(z,{mimeType:f,videoBitsPerSecond:P}),n.ondataavailable=h=>{h.data.size>0&&s.value.push(h.data)},n.onstop=()=>{const h=new Blob(s.value,{type:f.split(";")[0]}),V=URL.createObjectURL(h);r.value=V,R(),k()},setTimeout(()=>{n.start(),i.value=!0},1e3)}catch(O){console.error("Gagal merekam layar:",O)}},k=()=>{n&&i.value&&(n.stop(),i.value=!1,n.stream.getTracks().forEach(v=>v.stop()),s.value=[])},R=()=>{if(r.value){const v=document.createElement("a");v.href=r.value,v.download=`recording-${Date.now()}.${l.value}`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(r.value),k()}};return{isRecording:i,downloadUrl:r,startRecording:x,stopRecording:k}},me={style:{display:"flex","flex-flow":"row-nowrap","justify-content":"flex-start",gap:"1rem","align-items":"center"}},ve=["src"],pe={class:"nav-gr"},ge={class:"nav-crumb"},fe={class:"nav-gr"},he={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start",gap:"0.8rem","margin-right":"0.8rem"}},be=["src"],xe=["src"],ye=["src"],we={class:"aside-header"},ke={class:"aside-menu"},Ce={class:"copyright"},Te={key:4,class:"rec-opt-window"},Se={class:"rec-opt-inner"},_e={key:0,style:{"font-size":"12px","margin-top":"1rem"}},$e={key:1,style:{"font-size":"12px"}},Re={style:{display:"flex","flex-flow":"row wrap",gap:"0.3rem"}},Ne=D({__name:"DashNavLight",props:{theme:{type:String}},setup(i){const s=ue(),r=oe(),n=A(),l=m(!1),x=m(!1),k=m(!1);m(!1);const R=()=>{l.value=window.innerWidth<768};I(()=>{R(),window.addEventListener("resize",R)}),ne(()=>{window.removeEventListener("resize",R)});const v=p=>{console.log(p)},P=()=>{k.value=!k.value},f=()=>{x.value=!x.value},N=m(0),O=()=>{N.value=window.scrollY||window.pageYOffset};I(()=>{window.addEventListener("scroll",O)});const U=()=>{const p=document.getElementById("mainview");p&&p.scrollIntoView({behavior:"smooth",block:"start"})},z=()=>{n.asideToggle()};W(()=>l.value,()=>{l.value&&n.notifyAlertError("Peringatan","Tidak sarankan dijalankan pada perangkat Mobile karena dapat mempengaruhi performa","Tutup",()=>{})});const h=m(!1),V=m(60),E=m(5e6),B=m("video/mp4;codecs=avc1"),j=m("1920x1080"),K=()=>{h.value=!1,s.startRecording(V.value,E.value,B.value,j.value),console.log(s.isRecording.value)},X=()=>{s.stopRecording(),console.log(s.isRecording.value)};W(()=>s.isRecording.value,p=>{s.isRecording.value||console.log(s.downloadUrl.value)});const M=()=>{const p=navigator.userAgent;let e,c=p.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(c[1])?(e=/\brv[ :]+(\d+)/g.exec(p)||[],`IE ${e[1]}`):c[1]==="Chrome"&&(e=p.match(/\bOPR\/(\d+)/),e!=null)?`Opera ${e[1]}`:(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=p.match(/version\/(\d+)/i))!=null&&c.splice(1,1,e[1]),c.join(" "))};return(p,e)=>{const c=$("font-awesome-icon"),J=$("router-link");return d(),u(H,null,[t("nav",{class:b([`${o(n).asideVisible?"nav-main":"nav-main-full"}`,o(n).mTheme,l.value?"topnav-mobile":""])},[t("div",me,[l.value?y("",!0):(d(),u("button",{key:0,onClick:z,class:b([[`${o(n).textTheme}`],"side-hide"])},[a(c,{icon:o(n).asideVisible?"arrow-left":"bars"},null,8,["icon"])],2)),o(n).asideVisible?y("",!0):(d(),u("img",{key:1,src:o(Q),class:"prt-1"},null,8,ve))]),t("div",pe,[t("div",ge,[t("div",{class:b(o(n).textTheme)},[a(J,{to:"/dashboard",style:_({color:o(n).accentColor}),class:"nav-crumb-link"},{default:w(()=>[t("span",{style:_({background:o(n).gradientValue,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text"})},S(o(Y).appName),5)]),_:1},8,["style"]),C(" ··· "+S(o(r).name),1)],2),t("div",{class:b(o(n).textTheme)},S(o(r).name),3)])]),t("div",fe,[l.value?(d(),q(F,{key:0,onClick:f,icon:"bars","text-theme":o(n).textTheme},null,8,["text-theme"])):y("",!0),t("div",he,[t("img",{src:o(re),class:"prt"},null,8,be),t("img",{src:o(ce),class:"prt"},null,8,xe),t("img",{src:o(de),class:"prt"},null,8,ye)]),a(Z,{style:{"margin-right":"5px"}}),a(F,{onClick:P,icon:"gear","text-theme":o(n).textTheme},null,8,["text-theme"]),a(F,{icon:"sign-out","text-theme":o(n).textTheme},null,8,["text-theme"])])],2),o(n).asideVisible?(d(),u("aside",{key:0,class:b(["aside-main",o(n).mTheme,l.value?"sidenav-mobile":"",x.value?"sidenav-show":""])},[x.value?(d(),u("button",{key:0,onClick:f,class:b([o(n).textTheme,"navmob-dismiss"]),type:"button"},[a(c,{icon:"arrow-left"})],2)):y("",!0),t("div",we,[a(ee,{"site-name":o(Y).appName},null,8,["site-name"])]),e[10]||(e[10]=t("div",{class:"separator"},null,-1)),t("div",ke,[a(se,{onClickSignOut:v,"text-theme":o(n).textTheme},null,8,["text-theme"])]),t("span",Ce,[t("i",null,[C("Copyright © "+S(o(ie)().format("YYYY"))+" ",1),e[8]||(e[8]=t("b",null,"FOL Production Jambi Data Center",-1)),e[9]||(e[9]=C(" all rights reserved"))])])],2)):y("",!0),a(te,{visible:k.value,"onUpdate:visible":e[0]||(e[0]=g=>k.value=g)},null,8,["visible"]),t("div",{id:"mainview",class:b([`${o(n).asideVisible?"main-wrapper":"main-wrapper-full"}`,l.value?"main-wrapper-mobile":""])},[ae(p.$slots,"default")],2),N.value?(d(),u("button",{key:1,onClick:U,style:_({backgroundColor:o(n).accentColor}),type:"button",class:"scrolltotop"},[a(c,{icon:"arrow-up"})],4)):y("",!0),o(s).isRecording.value?(d(),u("button",{key:3,class:"record-btn",onClick:X},[a(c,{icon:"stop"})])):(d(),u("button",{key:2,class:"record-btn",onClick:e[1]||(e[1]=g=>h.value=!0)},[a(c,{icon:"video"})])),h.value?(d(),u("div",Te,[t("div",Se,[t("button",{type:"button",class:"rec-opt-dismiss",onClick:e[2]||(e[2]=g=>h.value=!1)},[a(c,{icon:"times"})]),e[20]||(e[20]=t("h4",null,[t("b",null,"Recording Option")],-1)),a(L,{"in-label":"Resolution","model-value":j.value,"onUpdate:modelValue":e[3]||(e[3]=g=>j.value=g)},{default:w(()=>e[11]||(e[11]=[t("option",{value:"1920x1080"},"1920x1080 (Full HD)",-1),t("option",{value:"1600x900"},"1600x900",-1),t("option",{value:"1366x768"},"1366x768 (HD)",-1),t("option",{value:"1280x720"},"1280x720",-1),t("option",{value:"1024x768"},"1024x768 (XGA)",-1),t("option",{value:"800x600"},"800x600 (Best performance, worst quality)",-1)])),_:1},8,["model-value"]),a(L,{"in-label":"Frames","model-value":V.value,"onUpdate:modelValue":e[4]||(e[4]=g=>V.value=g)},{default:w(()=>e[12]||(e[12]=[t("option",{value:"30"},"30 FPS",-1),t("option",{value:"45"},"45 FPS",-1),t("option",{value:"60"},"60 FPS",-1),t("option",{value:"120"},"120 FPS (Smooth playback)",-1)])),_:1},8,["model-value"]),a(L,{"in-label":"Bitrate","model-value":E.value,"onUpdate:modelValue":e[5]||(e[5]=g=>E.value=g)},{default:w(()=>e[13]||(e[13]=[t("option",{value:"2000000"},"Best Performace (Smaller file size)",-1),t("option",{value:"3000000"},"Normal",-1),t("option",{value:"5000000"},"Best Quality (Larger file size)",-1)])),_:1},8,["model-value"]),a(L,{"in-label":"Video Encoding","model-value":B.value,"onUpdate:modelValue":e[6]||(e[6]=g=>B.value=g)},{default:w(()=>e[14]||(e[14]=[t("option",{value:"video/mp4;codecs=avc1"},"MP4 (Recommended)",-1),t("option",{value:"video/webm;codecs=vp8"},"WebM",-1),t("option",{value:"video/webm;codecs=h264"},"WebM (H264)",-1)])),_:1},8,["model-value"]),M().split(" ")[0]!="Chrome"?(d(),u("p",_e,[a(c,{icon:"info-circle"}),e[15]||(e[15]=C(" Note: These settings are optimized for ")),e[16]||(e[16]=t("b",null,"Google Chrome",-1)),e[17]||(e[17]=C(" browser. Other browsers may use default settings. "))])):y("",!0),B.value=="video/mp4;codecs=avc1"&&M().split(" ")[0]!="Chrome"?(d(),u("p",$e,[a(c,{icon:"info-circle"}),C(" "+S(M())+" may not fully support this video format. For the best experience, please use Google Chrome. ",1)])):y("",!0),t("div",Re,[a(G,{"bt-disabled":M().split(" ")[0]=="Firefox"&&B.value=="video/webm;codecs=h264",onClick:K,"bt-color":o(n).accentColor},{default:w(()=>e[18]||(e[18]=[C("Start Recording")])),_:1},8,["bt-disabled","bt-color"]),a(G,{"bt-disabled":!1,onClick:e[7]||(e[7]=g=>h.value=!1),style:{"background-color":"red"}},{default:w(()=>e[19]||(e[19]=[C("Cancel")])),_:1})])])])):y("",!0)],64)}}}),Pe=D({__name:"DashDefault",setup(i){const s=A();return(r,n)=>{const l=$("RouterView");return d(),q(Ne,{theme:o(s).mTheme},{default:w(()=>[a(l)]),_:1},8,["theme"])}}});export{Pe as default};
