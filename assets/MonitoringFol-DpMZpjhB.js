import{u as me}from"./theme-8-X7SiMf.js";import{d as De,i as we}from"./index-CehbAW_K.js";import{_ as _e}from"./MainWrapperView.vue_vue_type_style_index_0_lang-D915rbw3.js";import{_ as ve}from"./SelectView.vue_vue_type_style_index_0_lang-U085rmBC.js";import{_ as z}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-6YRBVaWZ.js";import{d as pe,r as ye,o as T,c as O,e as t,f as X,u as D,a as s,n as le,t as J,G as $e,M as ae,T as Y,w as h,N as n,R as L,P as xe,Q as Te,_ as Me,K as ke,U as Ce,b as be,F as ce,J as he}from"./index-CCs4LTQi.js";import{u as fe}from"./http-Dt5oiYfq.js";import{u as Ae}from"./spotModel-C3JFLcl9.js";import{_ as W}from"./InputView.vue_vue_type_style_index_0_lang-CiWP72FF.js";import{_ as Oe}from"./BatteryView.vue_vue_type_style_index_0_computed_true_lang-LBN5I-pP.js";import"./moment-C5S46NFB.js";const Ve={key:0,class:"mod-overlay"},Pe={class:"mod-heading"},Fe={class:"mod-body"},ge=pe({__name:"ModalEditorView",props:{modTitle:{type:String,required:!0},modShow:{type:Boolean,default:!0}},emits:["update:modShow"],setup(j,{emit:K}){const b=me(),I=j,u=K,g=()=>{u("update:modShow",!I.modShow)};return(N,_)=>{const m=ye("font-awesome-icon");return j.modShow?(T(),O("div",Ve,[t("div",{class:le(["mod-content",D(b).mTheme])},[t("button",{onClick:g,type:"button",class:"mod-dismiss",style:X({color:D(b).accentColor})},[s(m,{icon:"times"})],4),t("div",Pe,[t("h4",{class:le(D(b).textTheme)},[t("b",null,J(j.modTitle),1)],2)]),t("div",Fe,[$e(N.$slots,"default")])],2)])):ae("",!0)}}}),Le={class:"itemlist-wrapper"},Ne={class:"itemlist-group"},Ue=pe({__name:"ItemList",props:{itemName:{type:String,required:!0},itemDesc:{type:String,required:!0},itemId:{type:String,required:!0},itemSafemark:{type:Number,default:0,required:!0}},emits:["onItemSelect"],setup(j,{emit:K}){const b=me(),I=K,u=j,g=()=>{I("onItemSelect",{id:u.itemId,name:u.itemName,desc:u.itemDesc})};return(N,_)=>{const m=ye("font-awesome-icon");return T(),O("div",Le,[t("div",Ne,[t("span",{style:X({color:D(b).accentColor})},[t("b",null,J(j.itemName),1)],4),t("span",{style:X({color:D(b).accentColor})},[s(m,{icon:"map-pin"}),Y(" "+J(j.itemDesc),1)],4)]),s(z,{onClick:g,"bt-disabled":!1,"bt-size":"small"},{default:h(()=>[s(m,{icon:"plus"})]),_:1})])}}}),Re={class:"chart-container"},qe={class:"col-md-4"},ze={class:"loaderparent"},je=pe({__name:"LiveMonitorChart",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(j){const K=j,b=n(!0),I=n(null),u=n(null),g=me(),N=n(15),_=n([]),m=n(0),w=n("Building chart..."),$=n("Initializing..."),S=n(0),V=n({tooltip:{trigger:"axis",axisPointer:{type:"cross"}}}),l=p=>new Date(p).toISOString(),d=async()=>new Promise((p,v)=>{fe().httpGet("api/Spot/getspots").then(f=>{p(f)}).catch(f=>{console.error(f),v(f)})});L(()=>I.value,async()=>{U(),await d().then(p=>{_.value=p})});const U=()=>{if(m.value=5,I.value){const p=we(I.value);u.value=p,u.value.setOption(V.value)}},B=async()=>new Promise(async(p,v)=>{try{const f=[],E=new Set,R=_.value.length;let ee=0;$.value="Setting up...";for(let y=0;y<_.value.length;y++){$.value=`Applying filter for ${_.value[y].spotName}...`;const H={id:_.value[y].id+"",date:l(K.dateFilter),timespan:K.timeFilter+"",firstrequest:b.value},k=await fe().httpPost("api/Data/getsingledata",H);for(let G=0;G<k.length;G++)setTimeout(()=>{S.value++},1);const Z=k.map(G=>{const se=G.timestamp.replace(".",":").split("T")[1],[re,ue]=se.split(":"),c=`${re}:${ue}`;return E.add(c),c}),C=k.map(G=>parseFloat(G.psiValue));f.push({psies:C,categories:Z}),ee+=1;const P=ee/R*90;m.value=Math.round(P)}const Q=Array.from(E).sort((y,H)=>{const[k,Z]=y.split(":").map(Number),[C,P]=H.split(":").map(Number);return k!==C?k-C:Z-P}),oe=f.map((y,H)=>{const k={};y.categories.forEach((C,P)=>{k[C]=y.psies[P]});const Z=Q.map(C=>k[C]!==void 0?parseFloat(k[C]):null);return{name:`${_.value[H].spotName}`,type:"line",data:Z,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:1.5},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(C){let P=0;const G=f[C.seriesIndex].psies.length;for(let te=0;te<G;te++)f[C.seriesIndex].psies[te]!==null&&(P=f[C.seriesIndex].psies[te]);return P.toFixed(2)}}}}),q={backgroundColor:"transparent",legend:{data:oe.map(y=>({name:y.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:Q,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(y){return y.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${g.accentColor}`,rotate:-45,interval:y=>{const[H,k]=Q[y].split(":").map(Number);return k%N.value===0},formatter:function(y){return y}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:oe};p(q)}catch(f){console.error(f),v(f)}});return L(()=>_.value,async()=>{await B().then(p=>{u.value.setOption(p),$.value="Drawing series...",m.value=99.99,setTimeout(()=>{m.value=100,S.value=0},2e3)})}),L(()=>N.value,async()=>{m.value=5,$.value="Setting up...",w.value="Options & filter updated. Rebuilding chart with new series...",u.value&&(u.value=null),U(),setTimeout(async()=>{await B().then(p=>{u.value.setOption(p),m.value=99.99,$.value="Drawing series...",setTimeout(()=>{m.value=100,S.value=0},2e3)})},1e3)}),xe(()=>{U()}),Te(()=>{I.value&&De(I.value)}),(p,v)=>(T(),O("div",Re,[v[3]||(v[3]=t("h4",{style:{padding:"15px"}},"Live Monitor Chart",-1)),t("div",qe,[s(ve,{"in-label":"X-Axis Time Split","model-value":N.value,"onUpdate:modelValue":v[0]||(v[0]=f=>N.value=f)},{default:h(()=>v[1]||(v[1]=[t("option",{value:"5"},"5 Minutes",-1),t("option",{value:"10"},"10 Minutes",-1),t("option",{value:"15"},"15 Minutes",-1),t("option",{value:"30"},"30 Minutes",-1),t("option",{value:"45"},"45 Minutes",-1),t("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),t("div",{ref_key:"chart",ref:I,style:{width:"100%",position:"relative",height:"90%"}},null,512),m.value!=100?(T(),O("div",{key:0,class:le(["chartloader",[`${D(g).mTheme}`]])},[v[2]||(v[2]=t("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),t("span",{class:le([`${D(g).textTheme}`])},J(w.value)+" ("+J(S.value)+" objects collected)",3),t("span",{style:X({color:`${D(g).accentColorSecondary}`})},J($.value),5),t("div",ze,[t("span",{style:X({width:`${m.value}%`,background:`${D(g).accentColor}`}),class:"loaderinner"},null,4)])],2)):ae("",!0)]))}}),Be=Me(je,[["__scopeId","data-v-3c2666ce"]]),Ee={style:{display:"flex","flex-flow":"column","margin-bottom":"1rem"}},He=["id"],Ge={key:0,style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end",gap:"0.5rem","margin-bottom":"1.5rem"}},Ye={contenteditable:"true",spellcheck:"false"},We=pe({__name:"ChartView2",props:{filterDate:{type:String,required:!0},filterTime:{type:Number,required:!0},spotId:{type:String,required:!0},chartName:{type:String,required:!0},yMax:{type:Number,required:!0,default:350},yMin:{type:Number,required:!0,default:0},gridview:{type:Boolean,default:!1},tickAmount:{type:Number,default:100},dataFetchInterval:{type:Number,default:1e4},curveType:{type:Boolean,default:!1},safeMark:{type:Number,default:0},isDataPaused:Boolean,showUis:{type:Boolean,default:!0},yInterval:{type:Number,default:0}},emits:["onChartClose","onChartReady","onPause","onResume","onDrawingMode"],setup(j,{emit:K}){const b=n([]),I=n([]),u=K,g=me(),N=n(!1),_=n(!0),m=n(null),w=n(null),$=n(!1),S=n(!1);let V;const l=j,d=n(l.safeMark),U=n(!1),B=n(l.yMax),p=n(l.yMin),v=n(l.tickAmount),f=n(50),E=n(l.dataFetchInterval),R=n(l.curveType),ee=n(!0),Q=n(!0);function oe(c,i){return{tooltip:{show:!0,trigger:"item",axisPointer:{type:"cross",axis:"auto",label:{show:!0}}},xAxis:[{type:"category",interval:v.value,axisLine:{show:!0,lineStyle:{color:g.accentColor}},splitLine:{show:Q,lineStyle:{color:"#ddd",type:"dashed"}},axisTick:{show:!0},boundaryGap:!1,axisLabel:{rotate:45},data:[]}],yAxis:[{type:"value",min:p.value,max:c,minorTick:{show:!0},axisTick:{show:!0},minorSplitLine:{show:ee,lineStyle:{color:"#ddd",type:"dashed"}},interval:l.yInterval,axisLine:{show:!0,lineStyle:{color:g.accentColor}},axisLabel:{formatter:"{value}"}}],series:[{name:"PSI Data",type:"line",symbol:"none",data:[],smooth:i,lineStyle:{width:1.2,join:"miter",miterLimit:3,cap:"round"},tooltip:{position:["50%","50%"]},endLabel:{show:!0,distance:0,formatter:function(F){const o=F.dataIndex,e=q.value.series[0].data;console.log(e);let r=0;for(let M=0;M<e.length;M++)e[M]>r&&(r=e[M]);let a=0,x=0;for(let M=0;M<e.length;M++){const A=parseInt(e[M]);(parseInt(l.spotId)==1&&A>=120&&A<=200||parseInt(l.spotId)==2&&A>=45&&A<=100||parseInt(l.spotId)==3&&A>=30&&A<=75||parseInt(l.spotId)==4&&A>=20&&A<=30)&&(a+=A,x++)}const ne=a/x,ie=e.length-1;if(o===ie){const M=F.value,A=r,de=(A-M)/A*100;return`Curr: ${F.value}
Avg: ${ne.toFixed(2)}
Del: ${de>0?"-"+de.toFixed(2):"+"+de.toFixed(2)}%`}return""},color:"black",backgroundColor:"white",padding:5,borderRadius:5}},{name:"Safe Mark",type:"line",tooltip:{trigger:"item"},lineStyle:{color:"red",type:"solid"},markLine:{symbol:"none",label:{show:!1},lineStyle:{color:"red",type:"dashed"},data:[{yAxis:d.value}]}}]}}L(()=>d.value,()=>{var c;q.value.series[1].markLine.data[0].yAxis=d.value,(c=w.value)==null||c.setOption(q.value)});const q=n(oe(l.yMax,l.curveType));L(()=>[B.value,p.value,v.value,E.value,R.value,f.value,ee.value,Q.value],()=>{w.value.setOption(q.value)});const y=()=>{var c;!w.value&&m.value&&(w.value=we(m.value)),(c=w.value)==null||c.setOption(q.value)},H=c=>new Date(c).toISOString(),k=async()=>{var i;const c={id:l.spotId+"",date:H(l.filterDate),timespan:l.filterTime+""};try{const o=await fe().httpPost("api/Data/getalldata",c),e=o.map(a=>{const ne=a.timestamp.replace(".",":").split("T")[1],[ie,M]=ne.split(":");return`${ie}:${M}`}),r=o.map(a=>parseFloat(a.psiValue).toFixed(2)).map(a=>parseFloat(a));b.value=e,I.value=r,r.length?($.value=!1,q.value.xAxis[0].data=e,q.value.series[0].data=r,(i=w.value)==null||i.setOption(q.value)):($.value=!0,_.value=!1)}catch(F){console.error("Error fetching chart data:",F)}},Z=()=>{const c=new Date().toISOString().slice(0,10);if(l.filterDate.slice(0,10)!==c){V&&clearInterval(V);return}else V&&clearInterval(V),V=setInterval(()=>{S.value||k()},E.value)};L(()=>m.value,()=>{m.value&&y()}),L(()=>l.gridview,()=>{w.value&&setTimeout(()=>{var c;(c=w.value)==null||c.resize()},500)}),L(()=>l.dataFetchInterval,()=>{E.value=l.dataFetchInterval,Z()}),L(()=>[m.value],()=>{k(),Z()}),Te(()=>{clearInterval(V)});let C=null;L(()=>[l.filterDate,l.filterTime,l.yMax,l.yMin,l.tickAmount,l.curveType],()=>{C&&clearTimeout(C),C=setTimeout(()=>{B.value=l.yMax,p.value=l.yMin,v.value=l.tickAmount,R.value=l.curveType,E.value=l.dataFetchInterval,q.value=oe(l.yMax,l.curveType),_.value=!0,N.value=!1},300)});let P=null;L(()=>[B.value,p.value,v.value,E.value,R.value],()=>{P&&clearTimeout(P),P=setTimeout(()=>{k()},500)}),g.$subscribe((c,i)=>{setTimeout(()=>{k()},2e3)});const G=()=>{u("onChartClose",l.spotId)},te=()=>{U.value=!U.value},se=()=>{U.value=!1},re=()=>{S.value=!S.value,S.value?u("onPause",l.spotId):u("onResume",l.spotId)};L(()=>[l.isDataPaused],()=>{S.value=l.isDataPaused,S.value?u("onPause",l.spotId):u("onResume",l.spotId)}),L(()=>S.value,()=>{S.value?u("onPause",l.spotId):u("onResume",l.spotId)}),L(()=>g.asideVisible,()=>{w.value&&setTimeout(()=>{var c;(c=w.value)==null||c.resize()},500)});const ue=()=>{u("onDrawingMode",l.spotId)};return xe(()=>{console.log("DATA",l.filterDate)}),(c,i)=>{const F=ye("font-awesome-icon");return T(),O(ce,null,[s(ge,{"mod-show":U.value,"onUpdate:modShow":i[9]||(i[9]=o=>U.value=o),"mod-title":`${l.chartName} Preferences`},{default:h(()=>[s(W,{"in-type":"number","in-label":"Safemark","model-value":d.value,"onUpdate:modelValue":i[0]||(i[0]=o=>d.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"Y-Axis Max Tick","model-value":B.value,"onUpdate:modelValue":i[1]||(i[1]=o=>B.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"Y-Axis Min Tick","model-value":p.value,"onUpdate:modelValue":i[2]||(i[2]=o=>p.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"Y-Axis Interval","model-value":f.value,"onUpdate:modelValue":i[3]||(i[3]=o=>f.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"X-Axis Tick Amount","model-value":v.value,"onUpdate:modelValue":i[4]||(i[4]=o=>v.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"Data Update Interval (Milisecond)","model-value":E.value,"onUpdate:modelValue":i[5]||(i[5]=o=>E.value=o)},null,8,["model-value"]),s(ve,{"in-label":"Curve Type","model-value":R.value,"onUpdate:modelValue":i[6]||(i[6]=o=>R.value=o)},{default:h(()=>i[10]||(i[10]=[t("option",{value:"true"},"Smooth",-1),t("option",{value:"false"},"Straight",-1)])),_:1},8,["model-value"]),t("div",Ee,[t("label",null,[ke(t("input",{type:"checkbox","onUpdate:modelValue":i[7]||(i[7]=o=>ee.value=o)},null,512),[[Ce,ee.value]]),i[11]||(i[11]=Y(" Show Y-Axis Minor Split "))]),t("label",null,[ke(t("input",{type:"checkbox","onUpdate:modelValue":i[8]||(i[8]=o=>Q.value=o)},null,512),[[Ce,Q.value]]),i[12]||(i[12]=Y(" Show X-Axis Split "))])]),s(z,{onClick:se,"bt-type":"button","bt-disabled":!1},{default:h(()=>i[13]||(i[13]=[Y("Dismiss")])),_:1})]),_:1},8,["mod-show","mod-title"]),t("div",{id:`chart${l.spotId}`,style:X({width:l.gridview?D(g).asideVisible?"680px":"600.5px":"100%"}),class:le(["chartwrap",S.value?"chartwrap-paused":""])},[l.showUis?(T(),O("div",Ge,[s(z,{onClick:ue,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:h(()=>[s(F,{icon:"edit"})]),_:1}),s(z,{onClick:re,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:h(()=>[s(F,{icon:S.value?"pause":"play"},null,8,["icon"])]),_:1}),I.value.length?(T(),be(z,{key:0,onClick:te,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:h(()=>[s(F,{icon:"sliders"})]),_:1})):ae("",!0),s(z,{onClick:G,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:h(()=>[s(F,{icon:"close"})]),_:1})])):ae("",!0),s(Oe,{"id-spot":parseInt(l.spotId)},null,8,["id-spot"]),t("h4",{style:X({textAlign:"center",color:D(g).accentColor})},[t("b",Ye,"SPOT: "+J(l.chartName),1)],4),I.value.length?(T(),O("p",{key:1,style:{"text-align":"center","margin-bottom":"5px"},class:le(D(g).textTheme)}," Displaying data for last "+J(l.filterTime)+" hour(s) on "+J(l.filterDate),3)):ae("",!0),t("div",{ref_key:"chartRef",ref:m,style:{width:"100%",height:"600px"}},null,512)],14,He)],64)}}}),Xe={key:0,class:"live-window"},Je={key:1,class:"drw-wd"},Ke={class:"row"},Qe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Ze={class:"col-md-12"},et={class:"col-md-12"},tt={style:{display:"flex","flex-flow":"row wrap",gap:"0.3rem"}},at={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},lt={class:"spot-reading-control"},ot={class:"spot-basket"},st=["onClick","onDblclick"],nt={key:0,style:{"margin-top":"1rem",display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},bt=pe({__name:"MonitoringFol",setup(j){const K=Ae(),b=me();b.asideToggle(!0);const I=n(null),u=n(!1),g=n(300),N=n(0),_=n(30),m=n(1e4),w=n(!1),$=n(""),S=n("straight"),V=n(24),l=n(!1),d=n([]),U=n(1),B=()=>{U.value<Object.keys(d).length&&setTimeout(()=>{U.value++,B()},1e3)},p=()=>{const o=new Date,e=o.getFullYear(),r=String(o.getMonth()+1).padStart(2,"0"),a=String(o.getDate()).padStart(2,"0"),x=`${e}-${r}-${a}`;$.value=x};xe(async()=>{await K.getSpots().then(o=>{p(),setTimeout(()=>{d.value=o,console.log("SPOTS",d.value),B()},1e3)})});const v=()=>{l.value=!0},f=o=>{l.value=!1,d.value.some(r=>r[o.id])?b.notifyShowError("Selected spot already displayed"):d.value.push({[o.id]:o})},E=o=>{delete d.value[o]},R=n(!1),ee=()=>{R.value=!R.value},Q=()=>{R.value=!1,b.notifyShow("Options has been applied")},oe=o=>{const e=document.getElementById("chart"+o);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},q=()=>{u.value=!u.value},y=o=>{d.value=d.value.filter(e=>!e[o])};let H=n([]);const k=o=>{H.value.push({id:o});const e=`spotdata-${o}`,r=document.querySelector(`.${e}`);r?(r.style.background="red",r.style.color="white"):console.warn(`Element dengan class ${e} gak ditemukan bro!`)},Z=o=>{const e=`spotdata-${o}`,r=document.querySelector(`.${e}`);r?(r.style.background="#000",r.style.color="#fff"):console.warn(`Element dengan class ${e} gak ditemukan bro!`);const a=H.value.findIndex(x=>x.id===o);H.value.splice(a,1)},C=()=>{w.value=!1},P=()=>{w.value=!0},G=o=>new Date(o).toISOString(),te=async o=>new Promise(async(e,r)=>{try{const a={id:o,date:G($.value),timespan:V.value+"",firstrequest:!1},x=await fe().httpPost("api/Data/getsingledata",a),ne=x.map(M=>{const Se=M.timestamp.replace(".",":").split("T")[1],[de,Ie]=Se.split(":");return`${de}:${Ie}`}),ie=x.map(M=>parseFloat(M.psiValue).toFixed(2));e({cats:ne,series:ie})}catch(a){r(a)}}),se=n(!1),re=o=>{w.value=!0,se.value=!0,setTimeout(()=>{ue(o)},3e3)},ue=async o=>{const e=we(I.value);await te(o).then(r=>{const a=r.cats,x=r.series,ne={graphic:[{type:"rect",shape:{x:0,y:0,width:e.getWidth(),height:e.getHeight()},style:{fill:"transparent"},onmousemove:function(ie){}}],backgroundColor:"#fff",tooltip:{trigger:"axis"},xAxis:{type:"category",data:a},yAxis:{type:"value",min:0,max:350},series:[{type:"line",data:x,color:a.map(()=>`${b.accentColor}`)}]};e.setOption(ne),e.setOption({yAxis:{name:"Pressure (PSI)"}})})},c=()=>{se.value=!1},i=n(!1),F=()=>{i.value=!i.value,w.value=!w.value};return(o,e)=>{const r=ye("font-awesome-icon");return T(),O(ce,null,[i.value?(T(),O("div",Xe,[t("div",{class:le(["live-window-inner",[`${D(b).mTheme}`]])},[t("button",{style:X({color:`${D(b).accentColor}`}),type:"button",class:"drwclose",onClick:F},[s(r,{icon:"close"})],4),s(Be,{"date-filter":$.value,"time-filter":V.value},null,8,["date-filter","time-filter"])],2)])):ae("",!0),se.value?(T(),O("div",Je,[t("div",{class:"drw-inner",style:X({background:`${D(b).themeDarkColor}`})},[t("button",{onClick:c,type:"button",style:X({color:`${D(b).accentColor}`}),class:"drwclose"},[s(r,{icon:"close"})],4),t("div",{ref_key:"eCharts",ref:I,style:{width:"100%",height:"100%",position:"relative"}},null,512)],4)])):ae("",!0),s(ge,{"mod-show":l.value,"onUpdate:modShow":e[0]||(e[0]=a=>l.value=a),"mod-title":"Select spot"},{default:h(()=>[(T(!0),O(ce,null,he(Object.keys(d.value),a=>(T(),be(Ue,{key:a,onOnItemSelect:f,"item-id":d.value[a].id,"item-name":d.value[a].name,"item-desc":d.value[a].desc,"item-safemark":d.value[a].safemark},null,8,["item-id","item-name","item-desc","item-safemark"]))),128))]),_:1},8,["mod-show"]),s(ge,{"mod-show":R.value,"onUpdate:modShow":e[6]||(e[6]=a=>R.value=a),"mod-title":"Global Chart Preference"},{default:h(()=>[t("p",{style:X({color:D(b).accentColor})},"These parameters applies to all displayed charts",4),s(W,{"in-label":"Y-Axis Max Tick Range","in-type":"number","model-value":g.value,"onUpdate:modelValue":e[1]||(e[1]=a=>g.value=a)},null,8,["model-value"]),s(W,{"in-label":"Y-Axis Min Tick Range","in-type":"number","model-value":N.value,"onUpdate:modelValue":e[2]||(e[2]=a=>N.value=a)},null,8,["model-value"]),s(W,{"in-label":"X-Axis Tick Amount","in-helper":"Greater value produces denser tick rates while lesser value loosen it but trims certain data in some points of time","in-type":"number","model-value":_.value,"onUpdate:modelValue":e[3]||(e[3]=a=>_.value=a)},null,8,["model-value"]),s(W,{"in-label":"Data Update Interval (Milisecond)","in-helper":"Higher value increases the delay while lower value decreases it. Warning: Lower value require more resources and may significantly affect client-side performance","in-type":"number","model-value":m.value,"onUpdate:modelValue":e[4]||(e[4]=a=>m.value=a)},null,8,["model-value"]),s(ve,{"in-label":"Curve Type","model-value":S.value,"onUpdate:modelValue":e[5]||(e[5]=a=>S.value=a)},{default:h(()=>e[9]||(e[9]=[t("option",{value:"smooth"},"Smooth",-1),t("option",{value:"straight"},"Straight",-1),t("option",{value:"monotoneCubic"},"Monotone Cubic",-1),t("option",{value:"stepline"},"Stepline",-1),t("option",{value:"linestep"},"Linestep",-1)])),_:1},8,["model-value"]),s(z,{onClick:Q,"bt-type":"button","bt-disabled":!1},{default:h(()=>e[10]||(e[10]=[Y("Dismiss")])),_:1})]),_:1},8,["mod-show"]),s(_e,{"context-title":"Monitoring FOL"},{default:h(()=>[t("div",Ke,[t("div",Qe,[s(z,{onClick:ee,"bt-size":"small","bt-disabled":!1},{default:h(()=>[s(r,{icon:"sliders"}),e[11]||(e[11]=Y(" Global Chart Preferences"))]),_:1})]),t("div",Ze,[s(W,{"in-type":"date","in-label":"Date Filter","model-value":$.value,"onUpdate:modelValue":e[7]||(e[7]=a=>$.value=a)},null,8,["model-value"]),s(ve,{"in-label":"Time Range Filter","model-value":V.value,"onUpdate:modelValue":e[8]||(e[8]=a=>V.value=a)},{default:h(()=>e[12]||(e[12]=[t("option",{value:"1"},"1 Hour",-1),t("option",{value:"3"},"3 Hours",-1),t("option",{value:"6"},"6 Hours",-1),t("option",{value:"12"},"12 Hours",-1),t("option",{value:"24"},"24 Hours",-1)])),_:1},8,["model-value"]),t("div",et,[t("div",tt,[s(z,{onClick:F,"bt-size":"small","bt-disabled":!1},{default:h(()=>[s(r,{icon:"chart-line"}),e[13]||(e[13]=Y(" Live Data Monitoring"))]),_:1})]),e[14]||(e[14]=t("hr",null,null,-1))]),t("div",at,[s(z,{onClick:v,"bt-type":"button","bt-disabled":!1,"bt-size":"small"},{default:h(()=>[s(r,{icon:"add"}),e[15]||(e[15]=Y(" Add Chart"))]),_:1})]),t("div",lt,[s(z,{onClick:C,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:h(()=>[s(r,{icon:"play"}),e[16]||(e[16]=Y(" Resume All"))]),_:1}),s(z,{onClick:P,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:h(()=>[s(r,{icon:"pause"}),e[17]||(e[17]=Y(" Pause All"))]),_:1})]),t("div",ot,[(T(!0),O(ce,null,he(Object.keys(d.value),a=>(T(),O("span",{title:"Click to navigate to this spot",key:a,class:le(["spot-data",`spotdata-${a}`]),onClick:x=>oe(a),onDblclick:x=>E(a)},[t("span",null,J(d.value[a].name+" - "+d.value[a].desc),1)],42,st))),128))]),Object.keys(d.value)?(T(),O("div",nt,[s(z,{onClick:q,"bt-disabled":!1,"bt-size":"small"},{default:h(()=>[s(r,{icon:u.value?"grip-vertical":"expand"},null,8,["icon"]),Y(" "+J(u.value?"Grid chart view":"Full chart view"),1)]),_:1})])):ae("",!0),t("div",{style:{},class:le(u.value?"chart-basket-gridview":"chart-basket-fullview")},[(T(!0),O(ce,null,he(d.value,(a,x)=>(T(),O("div",{key:x},[x<U.value?(T(),be(We,{key:0,onOnChartReady:B,id:"chart"+Object.keys(a)[0],"chart-name":a.name,"filter-date":$.value,"filter-time":V.value,"safe-mark":a.safemark,"spot-id":a.id,"curve-type":S.value,"y-max":a.yMax,"y-min":N.value,"tick-amount":_.value,"y-interval":a.yInterval,"data-fetch-interval":m.value,gridview:u.value,"is-data-paused":w.value,onOnDrawingMode:re,onOnChartClose:y,onOnPause:k,onOnResume:Z},null,8,["id","chart-name","filter-date","filter-time","safe-mark","spot-id","curve-type","y-max","y-min","tick-amount","y-interval","data-fetch-interval","gridview","is-data-paused"])):ae("",!0)]))),128))],2)])])]),_:1})],64)}}});export{bt as default};
