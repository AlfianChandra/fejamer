import{l as K,_ as H,B as J,a as Q}from"./ThemeSetting.vue_vue_type_style_index_0_lang-EXmFBvBh.js";import{u as V}from"./theme-Bu7mP8Lr.js";import{d as R,r as S,o as c,c as d,a as i,n as v,b as M,w as _,e,f as k,u as t,t as C,F as Y,g as u,h as X,i as U,j as Z,k as j,l as y,m as z,p as T,q as ee}from"./index-C3fUtBfC.js";import{h as te}from"./moment-C5S46NFB.js";import{_ as E}from"./SelectView.vue_vue_type_style_index_0_lang-B-TMe2Pq.js";import{_ as oe}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-B9TbDTtK.js";import"./axios-BimPEqV4.js";const A=R({__name:"TopNavAnchor",props:{icon:{type:String,required:!0},textTheme:{type:String}},setup(n){return(s,l)=>{const o=S("font-awesome-icon");return c(),d("a",{href:"javascript:void(0)",class:v([n.textTheme?n.textTheme:"text-light","topnav-item"])},[i(o,{icon:n.icon},null,8,["icon"])],2)}}}),ne={key:1,href:"javascript:void(0)",class:"navitem-item","active-class":"navitem-active"},h=R({__name:"NavItem",props:{icon:{type:String,required:!0},menuName:{type:String,required:!0},redirect:{type:String,required:!0},textTheme:{type:String,default:"mtext-light"},isNegative:{type:Boolean,required:!1}},setup(n){const s=V();return(l,o)=>{const r=S("font-awesome-icon"),g=S("router-link");return n.redirect?(c(),M(g,{key:0,to:n.redirect,class:"navitem-item","active-class":"navitem-active"},{default:_(()=>[e("div",{style:k({background:`linear-gradient(-310deg,${t(s).accentColor},${t(s).accentColorSecondary})`})},[i(r,{icon:n.icon},null,8,["icon"])],4),e("span",{class:v(n.isNegative?"mtext-danger":n.textTheme)},C(n.menuName),3)]),_:1},8,["to"])):(c(),d("a",ne,[e("div",{style:k({background:`linear-gradient(-310deg,${t(s).accentColor},${t(s).accentColorSecondary})`})},[i(r,{icon:n.icon},null,8,["icon"])],4),e("span",{class:v(n.isNegative?"mtext-danger":n.textTheme)},C(n.menuName),3)]))}}}),ae=R({__name:"DashSidebarMenu",props:{textTheme:{type:String,required:!0}},emits:["clickSignOut"],setup(n,{emit:s}){const l=V(),o=()=>{l.notifyConfirm("Keluar","Anda yakin ingin keluar?","Ya","Batal",async()=>{try{localStorage.setItem("authToken",""),localStorage.setItem("userid",""),l.notifyAlertSuccess("Berhasil","Anda telah keluar","Oke!",()=>{window.location.href="/login"})}catch{l.notifyAlertSuccess("Gagal","Anda telah keluar","Oke!",()=>{})}},()=>{})};return(r,g)=>(c(),d(Y,null,[i(h,{"text-theme":`${n.textTheme}`,icon:"home",redirect:"/dashboard","menu-name":"Dashboard"},null,8,["text-theme"]),e("div",{style:k({color:t(l).accentColor}),class:"aside-menu-divider"},"FOL",4),i(h,{"text-theme":`${n.textTheme}`,icon:"chart-line",redirect:"/fol/monitoring","menu-name":"Monitoring FOL"},null,8,["text-theme"]),i(h,{"text-theme":`${n.textTheme}`,icon:"chart-line",redirect:"/fol/linechart","menu-name":"Line Chart"},null,8,["text-theme"]),i(h,{"text-theme":`${n.textTheme}`,icon:"tachometer-alt",redirect:"/fol/gauge","menu-name":"Gauges"},null,8,["text-theme"]),i(h,{"text-theme":`${n.textTheme}`,icon:"clock",redirect:"/fol/histdata_splitted","menu-name":"History Data - Splitted"},null,8,["text-theme"]),i(h,{"text-theme":`${n.textTheme}`,icon:"play",redirect:"/fol/playback","menu-name":"Playback"},null,8,["text-theme"]),i(h,{"text-theme":`${n.textTheme}`,icon:"microchip",redirect:"/fol/devmon","menu-name":"Device Monitoring"},null,8,["text-theme"]),e("div",{style:k({color:t(l).accentColor}),class:"aside-menu-divider"},"Keluar",4),i(h,{"text-theme":`${n.textTheme}`,icon:"sign-out",redirect:"","is-negative":!0,"menu-name":"Sign-out",onClick:o},null,8,["text-theme"])],64))}}),ie="/assets/skk-a155yGtW.webp",se="/assets/iog-Xuip5NNy.webp",le="/assets/bumn-CTkNxYDZ.webp",re=()=>{const n=u(!1),s=u([]),l=u("");let o=null;const r=async(m,B)=>{try{const $=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:m,max:m}},audio:!1});o=new MediaRecorder($,{mimeType:"video/webm;codecs=vp8",videoBitsPerSecond:B}),o.ondataavailable=p=>{p.data.size>0&&s.value.push(p.data)},o.onstop=()=>{const p=new Blob(s.value,{type:"video/webm"}),N=URL.createObjectURL(p);l.value=N,w(),n.value=!1,s.value=[]},o.start(),n.value=!0}catch($){console.error("Gagal merekam layar:",$)}},g=()=>{o&&n.value&&(o.stop(),n.value=!1,o.stream.getTracks().forEach(m=>m.stop()))},w=()=>{if(l.value){const m=document.createElement("a");m.href=l.value,m.download=`recording-${Date.now()}.webm`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(l.value)}};return{isRecording:n,downloadUrl:l,startRecording:r,stopRecording:g}},ce={style:{display:"flex","flex-flow":"row-nowrap","justify-content":"flex-start",gap:"1rem","align-items":"center"}},me=["src"],de={class:"nav-gr"},ue={class:"nav-crumb"},ve={class:"nav-gr"},ge={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start",gap:"0.8rem","margin-right":"0.8rem"}},he=["src"],pe=["src"],fe=["src"],be={class:"aside-header"},xe={class:"aside-menu"},ye={class:"copyright"},ke={key:4,class:"rec-opt-window"},we={class:"rec-opt-inner"},Te={style:{"font-size":"12px","margin-top":"2rem"}},_e=R({__name:"DashNavLight",props:{theme:{type:String}},setup(n){const s=re(),l=X(),o=V(),r=u(!1),g=u(!1),w=u(!1);u(!1);const m=()=>{r.value=window.innerWidth<768};U(()=>{m(),window.addEventListener("resize",m)}),Z(()=>{window.removeEventListener("resize",m)});const B=f=>{console.log(f)},$=()=>{w.value=!w.value},p=()=>{g.value=!g.value},N=u(0),q=()=>{N.value=window.scrollY||window.pageYOffset};U(()=>{window.addEventListener("scroll",q)});const F=()=>{const f=document.getElementById("mainview");f&&f.scrollIntoView({behavior:"smooth",block:"start"})},P=()=>{o.asideToggle()};j(()=>r.value,()=>{r.value&&o.notifyAlertError("Peringatan","Tidak sarankan dijalankan pada perangkat Mobile karena dapat mempengaruhi performa","Tutup",()=>{})});const O=u(!1),D=u(30),L=u(5e6),G=()=>{O.value=!1,s.startRecording(D.value,L.value),console.log(s.isRecording.value)},I=()=>{s.stopRecording(),console.log(s.isRecording.value)};return j(()=>s.isRecording.value,f=>{s.isRecording.value||console.log(s.downloadUrl.value)}),(f,a)=>{const b=S("font-awesome-icon"),W=S("router-link");return c(),d(Y,null,[e("nav",{class:v([`${t(o).asideVisible?"nav-main":"nav-main-full"}`,t(o).mTheme,r.value?"topnav-mobile":""])},[e("div",ce,[r.value?y("",!0):(c(),d("button",{key:0,onClick:P,class:v([[`${t(o).textTheme}`],"side-hide"])},[i(b,{icon:t(o).asideVisible?"arrow-left":"bars"},null,8,["icon"])],2)),t(o).asideVisible?y("",!0):(c(),d("img",{key:1,src:t(K),class:"prt-1"},null,8,me))]),e("div",de,[e("div",ue,[e("div",{class:v(t(o).textTheme)},[i(W,{to:"/dashboard",style:k({color:t(o).accentColor}),class:"nav-crumb-link"},{default:_(()=>[e("span",{style:k({background:t(o).gradientValue,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text"})},C(t(z).appName),5)]),_:1},8,["style"]),T(" ··· "+C(t(l).name),1)],2),e("div",{class:v(t(o).textTheme)},C(t(l).name),3)])]),e("div",ve,[r.value?(c(),M(A,{key:0,onClick:p,icon:"bars","text-theme":t(o).textTheme},null,8,["text-theme"])):y("",!0),e("div",ge,[e("img",{src:t(ie),class:"prt"},null,8,he),e("img",{src:t(se),class:"prt"},null,8,pe),e("img",{src:t(le),class:"prt"},null,8,fe)]),i(H,{style:{"margin-right":"5px"}}),i(A,{onClick:$,icon:"gear","text-theme":t(o).textTheme},null,8,["text-theme"]),i(A,{icon:"sign-out","text-theme":t(o).textTheme},null,8,["text-theme"])])],2),t(o).asideVisible?(c(),d("aside",{key:0,class:v(["aside-main",t(o).mTheme,r.value?"sidenav-mobile":"",g.value?"sidenav-show":""])},[g.value?(c(),d("button",{key:0,onClick:p,class:v([t(o).textTheme,"navmob-dismiss"]),type:"button"},[i(b,{icon:"arrow-left"})],2)):y("",!0),e("div",be,[i(J,{"site-name":t(z).appName},null,8,["site-name"])]),a[7]||(a[7]=e("div",{class:"separator"},null,-1)),e("div",xe,[i(ae,{onClickSignOut:B,"text-theme":t(o).textTheme},null,8,["text-theme"])]),e("span",ye,[e("i",null,[T("Copyright © "+C(t(te)().format("YYYY"))+" ",1),a[5]||(a[5]=e("b",null,"FOL Production Jambi Data Center",-1)),a[6]||(a[6]=T(" all rights reserved"))])])],2)):y("",!0),i(Q,{visible:w.value,"onUpdate:visible":a[0]||(a[0]=x=>w.value=x)},null,8,["visible"]),e("div",{id:"mainview",class:v([`${t(o).asideVisible?"main-wrapper":"main-wrapper-full"}`,r.value?"main-wrapper-mobile":""])},[ee(f.$slots,"default")],2),N.value?(c(),d("button",{key:1,onClick:F,style:k({backgroundColor:t(o).accentColor}),type:"button",class:"scrolltotop"},[i(b,{icon:"arrow-up"})],4)):y("",!0),t(s).isRecording.value?(c(),d("button",{key:3,class:"record-btn",onClick:I},[i(b,{icon:"stop"})])):(c(),d("button",{key:2,class:"record-btn",onClick:a[1]||(a[1]=x=>O.value=!0)},[i(b,{icon:"video"})])),O.value?(c(),d("div",ke,[e("div",we,[e("button",{type:"button",class:"rec-opt-dismiss",onClick:a[2]||(a[2]=x=>O.value=!1)},[i(b,{icon:"times"})]),a[14]||(a[14]=e("h4",null,[e("b",null,"Recording Option")],-1)),i(E,{"in-label":"FPS","model-value":D.value,"onUpdate:modelValue":a[3]||(a[3]=x=>D.value=x)},{default:_(()=>a[8]||(a[8]=[e("option",{value:"25"},"25",-1),e("option",{value:"30"},"30",-1),e("option",{value:"59"},"59",-1)])),_:1},8,["model-value"]),i(E,{"in-label":"Video Quality","model-value":L.value,"onUpdate:modelValue":a[4]||(a[4]=x=>L.value=x)},{default:_(()=>a[9]||(a[9]=[e("option",{value:"2000000"},"Low (Smaller file size)",-1),e("option",{value:"3000000"},"Normal",-1),e("option",{value:"5000000"},"Best (Larger file size)",-1)])),_:1},8,["model-value"]),e("p",Te,[i(b,{icon:"info-circle"}),a[10]||(a[10]=T(" Please note that these settings only works on ")),a[11]||(a[11]=e("b",null,"Google Chrome",-1)),a[12]||(a[12]=T(" browser. Other browser may not support this feature or uses their standard settings. "))]),i(oe,{"bt-disabled":!1,onClick:G,"bt-color":t(o).accentColor},{default:_(()=>a[13]||(a[13]=[T("Start Recording")])),_:1},8,["bt-color"])])])):y("",!0)],64)}}}),Be=R({__name:"DashDefault",setup(n){const s=V();return(l,o)=>{const r=S("RouterView");return c(),M(_e,{theme:t(s).mTheme},{default:_(()=>[i(r)]),_:1},8,["theme"])}}});export{Be as default};
