import{l as H,_ as J,B as Q,a as X}from"./ThemeSetting.vue_vue_type_style_index_0_lang-w81YC9wD.js";import{u as B}from"./theme-Un73NUGg.js";import{d as N,r as R,o as c,c as u,a as i,n as v,b as E,w as k,e,f as w,u as t,t as $,F,g as d,h as Z,i as P,j as ee,k as Y,l as y,m as q,p as S,q as te}from"./index-BdqAERQb.js";import{h as oe}from"./moment-C5S46NFB.js";import{_ as j}from"./SelectView.vue_vue_type_style_index_0_lang-CZhovN1a.js";import{_ as ne}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-BtgF0tDZ.js";import"./axios-BimPEqV4.js";const z=N({__name:"TopNavAnchor",props:{icon:{type:String,required:!0},textTheme:{type:String}},setup(a){return(l,r)=>{const o=R("font-awesome-icon");return c(),u("a",{href:"javascript:void(0)",class:v([a.textTheme?a.textTheme:"text-light","topnav-item"])},[i(o,{icon:a.icon},null,8,["icon"])],2)}}}),ae={key:1,href:"javascript:void(0)",class:"navitem-item","active-class":"navitem-active"},p=N({__name:"NavItem",props:{icon:{type:String,required:!0},menuName:{type:String,required:!0},redirect:{type:String,required:!0},textTheme:{type:String,default:"mtext-light"},isNegative:{type:Boolean,required:!1}},setup(a){const l=B();return(r,o)=>{const s=R("font-awesome-icon"),g=R("router-link");return a.redirect?(c(),E(g,{key:0,to:a.redirect,class:"navitem-item","active-class":"navitem-active"},{default:k(()=>[e("div",{style:w({background:`linear-gradient(-310deg,${t(l).accentColor},${t(l).accentColorSecondary})`})},[i(s,{icon:a.icon},null,8,["icon"])],4),e("span",{class:v(a.isNegative?"mtext-danger":a.textTheme)},$(a.menuName),3)]),_:1},8,["to"])):(c(),u("a",ae,[e("div",{style:w({background:`linear-gradient(-310deg,${t(l).accentColor},${t(l).accentColorSecondary})`})},[i(s,{icon:a.icon},null,8,["icon"])],4),e("span",{class:v(a.isNegative?"mtext-danger":a.textTheme)},$(a.menuName),3)]))}}}),ie=N({__name:"DashSidebarMenu",props:{textTheme:{type:String,required:!0}},emits:["clickSignOut"],setup(a,{emit:l}){const r=B(),o=()=>{r.notifyConfirm("Keluar","Anda yakin ingin keluar?","Ya","Batal",async()=>{try{localStorage.setItem("authToken",""),localStorage.setItem("userid",""),r.notifyAlertSuccess("Berhasil","Anda telah keluar","Oke!",()=>{window.location.href="/login"})}catch{r.notifyAlertSuccess("Gagal","Anda telah keluar","Oke!",()=>{})}},()=>{})};return(s,g)=>(c(),u(F,null,[i(p,{"text-theme":`${a.textTheme}`,icon:"home",redirect:"/dashboard","menu-name":"Dashboard"},null,8,["text-theme"]),e("div",{style:w({color:t(r).accentColor}),class:"aside-menu-divider"},"FOL",4),i(p,{"text-theme":`${a.textTheme}`,icon:"chart-line",redirect:"/fol/monitoring","menu-name":"Monitoring FOL"},null,8,["text-theme"]),i(p,{"text-theme":`${a.textTheme}`,icon:"chart-line",redirect:"/fol/linechart","menu-name":"Line Chart"},null,8,["text-theme"]),i(p,{"text-theme":`${a.textTheme}`,icon:"tachometer-alt",redirect:"/fol/gauge","menu-name":"Gauges"},null,8,["text-theme"]),i(p,{"text-theme":`${a.textTheme}`,icon:"clock",redirect:"/fol/histdata_splitted","menu-name":"History Data - Splitted"},null,8,["text-theme"]),i(p,{"text-theme":`${a.textTheme}`,icon:"play",redirect:"/fol/playback","menu-name":"Playback"},null,8,["text-theme"]),i(p,{"text-theme":`${a.textTheme}`,icon:"microchip",redirect:"/fol/devmon","menu-name":"Device Monitoring"},null,8,["text-theme"]),e("div",{style:w({color:t(r).accentColor}),class:"aside-menu-divider"},"Keluar",4),i(p,{"text-theme":`${a.textTheme}`,icon:"sign-out",redirect:"","is-negative":!0,"menu-name":"Sign-out",onClick:o},null,8,["text-theme"])],64))}}),le="/assets/skk-a155yGtW.webp",se="/assets/iog-Xuip5NNy.webp",re="/assets/bumn-CTkNxYDZ.webp",ce=()=>{const a=d(!1),l=d([]),r=d("");let o=null;const s=d(""),g=async(m,D,f)=>{f=="video/webm;codecs=vp8"?s.value="webm":f=="video/mp4;codecs=avc1"&&(s.value="mp4");try{const C=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:m,max:m}},audio:!1});o=new MediaRecorder(C,{mimeType:f,videoBitsPerSecond:D}),o.ondataavailable=_=>{_.data.size>0&&l.value.push(_.data)},o.onstop=()=>{const _=new Blob(l.value,{type:f.split(";")[0]}),L=URL.createObjectURL(_);r.value=L,V(),a.value=!1,l.value=[]},o.start(),a.value=!0}catch(C){console.error("Gagal merekam layar:",C)}},T=()=>{o&&a.value&&(o.stop(),a.value=!1,o.stream.getTracks().forEach(m=>m.stop()))},V=()=>{if(r.value){const m=document.createElement("a");m.href=r.value,m.download=`recording-${Date.now()}.${s.value}`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(r.value)}};return{isRecording:a,downloadUrl:r,startRecording:g,stopRecording:T}},de={style:{display:"flex","flex-flow":"row-nowrap","justify-content":"flex-start",gap:"1rem","align-items":"center"}},me=["src"],ue={class:"nav-gr"},ve={class:"nav-crumb"},ge={class:"nav-gr"},he={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start",gap:"0.8rem","margin-right":"0.8rem"}},pe=["src"],fe=["src"],be=["src"],xe={class:"aside-header"},ye={class:"aside-menu"},ke={class:"copyright"},we={key:4,class:"rec-opt-window"},Te={class:"rec-opt-inner"},Ce={style:{"font-size":"12px","margin-top":"2rem"}},_e=N({__name:"DashNavLight",props:{theme:{type:String}},setup(a){const l=ce(),r=Z(),o=B(),s=d(!1),g=d(!1),T=d(!1);d(!1);const V=()=>{s.value=window.innerWidth<768};P(()=>{V(),window.addEventListener("resize",V)}),ee(()=>{window.removeEventListener("resize",V)});const m=b=>{console.log(b)},D=()=>{T.value=!T.value},f=()=>{g.value=!g.value},C=d(0),_=()=>{C.value=window.scrollY||window.pageYOffset};P(()=>{window.addEventListener("scroll",_)});const L=()=>{const b=document.getElementById("mainview");b&&b.scrollIntoView({behavior:"smooth",block:"start"})},W=()=>{o.asideToggle()};Y(()=>s.value,()=>{s.value&&o.notifyAlertError("Peringatan","Tidak sarankan dijalankan pada perangkat Mobile karena dapat mempengaruhi performa","Tutup",()=>{})});const O=d(!1),M=d(30),U=d(5e6),A=d("video/mp4;codecs=avc1"),G=()=>{O.value=!1,l.startRecording(M.value,U.value,A.value),console.log(l.isRecording.value)},I=()=>{l.stopRecording(),console.log(l.isRecording.value)};return Y(()=>l.isRecording.value,b=>{l.isRecording.value||console.log(l.downloadUrl.value)}),(b,n)=>{const x=R("font-awesome-icon"),K=R("router-link");return c(),u(F,null,[e("nav",{class:v([`${t(o).asideVisible?"nav-main":"nav-main-full"}`,t(o).mTheme,s.value?"topnav-mobile":""])},[e("div",de,[s.value?y("",!0):(c(),u("button",{key:0,onClick:W,class:v([[`${t(o).textTheme}`],"side-hide"])},[i(x,{icon:t(o).asideVisible?"arrow-left":"bars"},null,8,["icon"])],2)),t(o).asideVisible?y("",!0):(c(),u("img",{key:1,src:t(H),class:"prt-1"},null,8,me))]),e("div",ue,[e("div",ve,[e("div",{class:v(t(o).textTheme)},[i(K,{to:"/dashboard",style:w({color:t(o).accentColor}),class:"nav-crumb-link"},{default:k(()=>[e("span",{style:w({background:t(o).gradientValue,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text"})},$(t(q).appName),5)]),_:1},8,["style"]),S(" ··· "+$(t(r).name),1)],2),e("div",{class:v(t(o).textTheme)},$(t(r).name),3)])]),e("div",ge,[s.value?(c(),E(z,{key:0,onClick:f,icon:"bars","text-theme":t(o).textTheme},null,8,["text-theme"])):y("",!0),e("div",he,[e("img",{src:t(le),class:"prt"},null,8,pe),e("img",{src:t(se),class:"prt"},null,8,fe),e("img",{src:t(re),class:"prt"},null,8,be)]),i(J,{style:{"margin-right":"5px"}}),i(z,{onClick:D,icon:"gear","text-theme":t(o).textTheme},null,8,["text-theme"]),i(z,{icon:"sign-out","text-theme":t(o).textTheme},null,8,["text-theme"])])],2),t(o).asideVisible?(c(),u("aside",{key:0,class:v(["aside-main",t(o).mTheme,s.value?"sidenav-mobile":"",g.value?"sidenav-show":""])},[g.value?(c(),u("button",{key:0,onClick:f,class:v([t(o).textTheme,"navmob-dismiss"]),type:"button"},[i(x,{icon:"arrow-left"})],2)):y("",!0),e("div",xe,[i(Q,{"site-name":t(q).appName},null,8,["site-name"])]),n[8]||(n[8]=e("div",{class:"separator"},null,-1)),e("div",ye,[i(ie,{onClickSignOut:m,"text-theme":t(o).textTheme},null,8,["text-theme"])]),e("span",ke,[e("i",null,[S("Copyright © "+$(t(oe)().format("YYYY"))+" ",1),n[6]||(n[6]=e("b",null,"FOL Production Jambi Data Center",-1)),n[7]||(n[7]=S(" all rights reserved"))])])],2)):y("",!0),i(X,{visible:T.value,"onUpdate:visible":n[0]||(n[0]=h=>T.value=h)},null,8,["visible"]),e("div",{id:"mainview",class:v([`${t(o).asideVisible?"main-wrapper":"main-wrapper-full"}`,s.value?"main-wrapper-mobile":""])},[te(b.$slots,"default")],2),C.value?(c(),u("button",{key:1,onClick:L,style:w({backgroundColor:t(o).accentColor}),type:"button",class:"scrolltotop"},[i(x,{icon:"arrow-up"})],4)):y("",!0),t(l).isRecording.value?(c(),u("button",{key:3,class:"record-btn",onClick:I},[i(x,{icon:"stop"})])):(c(),u("button",{key:2,class:"record-btn",onClick:n[1]||(n[1]=h=>O.value=!0)},[i(x,{icon:"video"})])),O.value?(c(),u("div",we,[e("div",Te,[e("button",{type:"button",class:"rec-opt-dismiss",onClick:n[2]||(n[2]=h=>O.value=!1)},[i(x,{icon:"times"})]),n[16]||(n[16]=e("h4",null,[e("b",null,"Recording Option")],-1)),i(j,{"in-label":"FPS","model-value":M.value,"onUpdate:modelValue":n[3]||(n[3]=h=>M.value=h)},{default:k(()=>n[9]||(n[9]=[e("option",{value:"25"},"25",-1),e("option",{value:"30"},"30",-1),e("option",{value:"59"},"59",-1)])),_:1},8,["model-value"]),i(j,{"in-label":"Video Quality","model-value":U.value,"onUpdate:modelValue":n[4]||(n[4]=h=>U.value=h)},{default:k(()=>n[10]||(n[10]=[e("option",{value:"2000000"},"Low (Smaller file size)",-1),e("option",{value:"3000000"},"Normal",-1),e("option",{value:"5000000"},"Best (Larger file size)",-1)])),_:1},8,["model-value"]),i(j,{"in-label":"Video Format","model-value":A.value,"onUpdate:modelValue":n[5]||(n[5]=h=>A.value=h)},{default:k(()=>n[11]||(n[11]=[e("option",{value:"video/mp4;codecs=avc1"},"MP4 (Recommended)",-1),e("option",{value:"video/webm;codecs=vp8"},"WebM",-1)])),_:1},8,["model-value"]),e("p",Ce,[i(x,{icon:"info-circle"}),n[12]||(n[12]=S(" Please note that these settings only works on ")),n[13]||(n[13]=e("b",null,"Google Chrome",-1)),n[14]||(n[14]=S(" browser. Other browser may not support this feature or uses their standard settings. "))]),i(ne,{"bt-disabled":!1,onClick:G,"bt-color":t(o).accentColor},{default:k(()=>n[15]||(n[15]=[S("Start Recording")])),_:1},8,["bt-color"])])])):y("",!0)],64)}}}),De=N({__name:"DashDefault",setup(a){const l=B();return(r,o)=>{const s=R("RouterView");return c(),E(_e,{theme:t(l).mTheme},{default:k(()=>[i(s)]),_:1},8,["theme"])}}});export{De as default};
