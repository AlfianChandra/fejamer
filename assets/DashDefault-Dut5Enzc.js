import{l as J,_ as Q,B as X,a as Z}from"./ThemeSetting.vue_vue_type_style_index_0_lang-VTmZ048B.js";import{u as L}from"./theme-C4d1IjHB.js";import{d as N,r as R,o as d,c as m,a as i,n as g,b as P,w,e as t,f as T,u as o,t as C,F as W,g as u,h as ee,i as Y,j as te,k as q,l as y,m as I,p as k,q as oe}from"./index-CcIiid4R.js";import{h as ne}from"./moment-C5S46NFB.js";import{_ as j}from"./SelectView.vue_vue_type_style_index_0_lang-C4Ng3fa3.js";import{_ as ae}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-BdJ7Ccvb.js";import"./axios-BimPEqV4.js";const E=N({__name:"TopNavAnchor",props:{icon:{type:String,required:!0},textTheme:{type:String}},setup(a){return(s,r)=>{const n=R("font-awesome-icon");return d(),m("a",{href:"javascript:void(0)",class:g([a.textTheme?a.textTheme:"text-light","topnav-item"])},[i(n,{icon:a.icon},null,8,["icon"])],2)}}}),ie={key:1,href:"javascript:void(0)",class:"navitem-item","active-class":"navitem-active"},x=N({__name:"NavItem",props:{icon:{type:String,required:!0},menuName:{type:String,required:!0},redirect:{type:String,required:!0},textTheme:{type:String,default:"mtext-light"},isNegative:{type:Boolean,required:!1}},setup(a){const s=L();return(r,n)=>{const l=R("font-awesome-icon"),h=R("router-link");return a.redirect?(d(),P(h,{key:0,to:a.redirect,class:"navitem-item","active-class":"navitem-active"},{default:w(()=>[t("div",{style:T({background:`linear-gradient(-310deg,${o(s).accentColor},${o(s).accentColorSecondary})`})},[i(l,{icon:a.icon},null,8,["icon"])],4),t("span",{class:g(a.isNegative?"mtext-danger":a.textTheme)},C(a.menuName),3)]),_:1},8,["to"])):(d(),m("a",ie,[t("div",{style:T({background:`linear-gradient(-310deg,${o(s).accentColor},${o(s).accentColorSecondary})`})},[i(l,{icon:a.icon},null,8,["icon"])],4),t("span",{class:g(a.isNegative?"mtext-danger":a.textTheme)},C(a.menuName),3)]))}}}),se=N({__name:"DashSidebarMenu",props:{textTheme:{type:String,required:!0}},emits:["clickSignOut"],setup(a,{emit:s}){const r=L(),n=()=>{r.notifyConfirm("Keluar","Anda yakin ingin keluar?","Ya","Batal",async()=>{try{localStorage.setItem("authToken",""),localStorage.setItem("userid",""),r.notifyAlertSuccess("Berhasil","Anda telah keluar","Oke!",()=>{window.location.href="/login"})}catch{r.notifyAlertSuccess("Gagal","Anda telah keluar","Oke!",()=>{})}},()=>{})};return(l,h)=>(d(),m(W,null,[i(x,{"text-theme":`${a.textTheme}`,icon:"home",redirect:"/dashboard","menu-name":"Dashboard"},null,8,["text-theme"]),t("div",{style:T({color:o(r).accentColor}),class:"aside-menu-divider"},"FOL",4),i(x,{"text-theme":`${a.textTheme}`,icon:"chart-line",redirect:"/fol/monitoring","menu-name":"Monitoring FOL"},null,8,["text-theme"]),i(x,{"text-theme":`${a.textTheme}`,icon:"chart-line",redirect:"/fol/linechart","menu-name":"Line Chart"},null,8,["text-theme"]),i(x,{"text-theme":`${a.textTheme}`,icon:"tachometer-alt",redirect:"/fol/gauge","menu-name":"Gauges"},null,8,["text-theme"]),i(x,{"text-theme":`${a.textTheme}`,icon:"clock",redirect:"/fol/histdata_splitted","menu-name":"History Data - Splitted"},null,8,["text-theme"]),i(x,{"text-theme":`${a.textTheme}`,icon:"play",redirect:"/fol/playback","menu-name":"Playback"},null,8,["text-theme"]),i(x,{"text-theme":`${a.textTheme}`,icon:"microchip",redirect:"/fol/devmon","menu-name":"Device Monitoring"},null,8,["text-theme"]),t("div",{style:T({color:o(r).accentColor}),class:"aside-menu-divider"},"Keluar",4),i(x,{"text-theme":`${a.textTheme}`,icon:"sign-out",redirect:"","is-negative":!0,"menu-name":"Sign-out",onClick:n},null,8,["text-theme"])],64))}}),le="/assets/skk-a155yGtW.webp",re="/assets/iog-Xuip5NNy.webp",ce="/assets/bumn-CTkNxYDZ.webp",de=()=>{const a=u(!1),s=u([]),r=u("");let n=null;const l=u(""),h=async(v,D,f)=>{f=="video/webm;codecs=vp8"?l.value="webm":f=="video/mp4;codecs=avc1"&&MediaRecorder.isTypeSupported("video/mp4;codecs=avc1")?l.value="mp4":(f="video/webm;codecs=vp8",l.value="webm");try{const S=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:v,max:v}},audio:!1});n=new MediaRecorder(S,{mimeType:f,videoBitsPerSecond:D}),n.ondataavailable=$=>{$.data.size>0&&s.value.push($.data)},n.onstop=()=>{const $=new Blob(s.value,{type:f.split(";")[0]}),M=URL.createObjectURL($);r.value=M,V(),a.value=!1,s.value=[]},n.start(),a.value=!0}catch(S){console.error("Gagal merekam layar:",S)}},_=()=>{n&&a.value&&(n.stop(),a.value=!1,n.stream.getTracks().forEach(v=>v.stop()))},V=()=>{if(r.value){const v=document.createElement("a");v.href=r.value,v.download=`recording-${Date.now()}.${l.value}`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(r.value)}};return{isRecording:a,downloadUrl:r,startRecording:h,stopRecording:_}},me={style:{display:"flex","flex-flow":"row-nowrap","justify-content":"flex-start",gap:"1rem","align-items":"center"}},ue=["src"],ve={class:"nav-gr"},pe={class:"nav-crumb"},ge={class:"nav-gr"},he={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start",gap:"0.8rem","margin-right":"0.8rem"}},fe=["src"],be=["src"],ye=["src"],xe={class:"aside-header"},ke={class:"aside-menu"},we={class:"copyright"},Ce={key:4,class:"rec-opt-window"},Te={class:"rec-opt-inner"},_e={key:0,style:{"font-size":"12px","margin-top":"1rem"}},Se={key:1,style:{"font-size":"12px"}},$e=N({__name:"DashNavLight",props:{theme:{type:String}},setup(a){const s=de(),r=ee(),n=L(),l=u(!1),h=u(!1),_=u(!1);u(!1);const V=()=>{l.value=window.innerWidth<768};Y(()=>{V(),window.addEventListener("resize",V)}),te(()=>{window.removeEventListener("resize",V)});const v=p=>{console.log(p)},D=()=>{_.value=!_.value},f=()=>{h.value=!h.value},S=u(0),$=()=>{S.value=window.scrollY||window.pageYOffset};Y(()=>{window.addEventListener("scroll",$)});const M=()=>{const p=document.getElementById("mainview");p&&p.scrollIntoView({behavior:"smooth",block:"start"})},F=()=>{n.asideToggle()};q(()=>l.value,()=>{l.value&&n.notifyAlertError("Peringatan","Tidak sarankan dijalankan pada perangkat Mobile karena dapat mempengaruhi performa","Tutup",()=>{})});const O=u(!1),z=u(30),A=u(5e6),B=u("video/mp4;codecs=avc1"),G=()=>{O.value=!1,s.startRecording(z.value,A.value,B.value),console.log(s.isRecording.value)},K=()=>{s.stopRecording(),console.log(s.isRecording.value)};q(()=>s.isRecording.value,p=>{s.isRecording.value||console.log(s.downloadUrl.value)});const U=()=>{const p=navigator.userAgent;let e,c=p.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(c[1])?(e=/\brv[ :]+(\d+)/g.exec(p)||[],`IE ${e[1]}`):c[1]==="Chrome"&&(e=p.match(/\bOPR\/(\d+)/),e!=null)?`Opera ${e[1]}`:(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=p.match(/version\/(\d+)/i))!=null&&c.splice(1,1,e[1]),c.join(" "))};return(p,e)=>{const c=R("font-awesome-icon"),H=R("router-link");return d(),m(W,null,[t("nav",{class:g([`${o(n).asideVisible?"nav-main":"nav-main-full"}`,o(n).mTheme,l.value?"topnav-mobile":""])},[t("div",me,[l.value?y("",!0):(d(),m("button",{key:0,onClick:F,class:g([[`${o(n).textTheme}`],"side-hide"])},[i(c,{icon:o(n).asideVisible?"arrow-left":"bars"},null,8,["icon"])],2)),o(n).asideVisible?y("",!0):(d(),m("img",{key:1,src:o(J),class:"prt-1"},null,8,ue))]),t("div",ve,[t("div",pe,[t("div",{class:g(o(n).textTheme)},[i(H,{to:"/dashboard",style:T({color:o(n).accentColor}),class:"nav-crumb-link"},{default:w(()=>[t("span",{style:T({background:o(n).gradientValue,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text"})},C(o(I).appName),5)]),_:1},8,["style"]),k(" ··· "+C(o(r).name),1)],2),t("div",{class:g(o(n).textTheme)},C(o(r).name),3)])]),t("div",ge,[l.value?(d(),P(E,{key:0,onClick:f,icon:"bars","text-theme":o(n).textTheme},null,8,["text-theme"])):y("",!0),t("div",he,[t("img",{src:o(le),class:"prt"},null,8,fe),t("img",{src:o(re),class:"prt"},null,8,be),t("img",{src:o(ce),class:"prt"},null,8,ye)]),i(Q,{style:{"margin-right":"5px"}}),i(E,{onClick:D,icon:"gear","text-theme":o(n).textTheme},null,8,["text-theme"]),i(E,{icon:"sign-out","text-theme":o(n).textTheme},null,8,["text-theme"])])],2),o(n).asideVisible?(d(),m("aside",{key:0,class:g(["aside-main",o(n).mTheme,l.value?"sidenav-mobile":"",h.value?"sidenav-show":""])},[h.value?(d(),m("button",{key:0,onClick:f,class:g([o(n).textTheme,"navmob-dismiss"]),type:"button"},[i(c,{icon:"arrow-left"})],2)):y("",!0),t("div",xe,[i(X,{"site-name":o(I).appName},null,8,["site-name"])]),e[8]||(e[8]=t("div",{class:"separator"},null,-1)),t("div",ke,[i(se,{onClickSignOut:v,"text-theme":o(n).textTheme},null,8,["text-theme"])]),t("span",we,[t("i",null,[k("Copyright © "+C(o(ne)().format("YYYY"))+" ",1),e[6]||(e[6]=t("b",null,"FOL Production Jambi Data Center",-1)),e[7]||(e[7]=k(" all rights reserved"))])])],2)):y("",!0),i(Z,{visible:_.value,"onUpdate:visible":e[0]||(e[0]=b=>_.value=b)},null,8,["visible"]),t("div",{id:"mainview",class:g([`${o(n).asideVisible?"main-wrapper":"main-wrapper-full"}`,l.value?"main-wrapper-mobile":""])},[oe(p.$slots,"default")],2),S.value?(d(),m("button",{key:1,onClick:M,style:T({backgroundColor:o(n).accentColor}),type:"button",class:"scrolltotop"},[i(c,{icon:"arrow-up"})],4)):y("",!0),o(s).isRecording.value?(d(),m("button",{key:3,class:"record-btn",onClick:K},[i(c,{icon:"stop"})])):(d(),m("button",{key:2,class:"record-btn",onClick:e[1]||(e[1]=b=>O.value=!0)},[i(c,{icon:"video"})])),O.value?(d(),m("div",Ce,[t("div",Te,[t("button",{type:"button",class:"rec-opt-dismiss",onClick:e[2]||(e[2]=b=>O.value=!1)},[i(c,{icon:"times"})]),e[16]||(e[16]=t("h4",null,[t("b",null,"Recording Option")],-1)),i(j,{"in-label":"Frames","model-value":z.value,"onUpdate:modelValue":e[3]||(e[3]=b=>z.value=b)},{default:w(()=>e[9]||(e[9]=[t("option",{value:"25"},"25 (Smaller size)",-1),t("option",{value:"30"},"30",-1),t("option",{value:"59"},"59 (Larger size, smoother playback)",-1)])),_:1},8,["model-value"]),i(j,{"in-label":"Video Quality","model-value":A.value,"onUpdate:modelValue":e[4]||(e[4]=b=>A.value=b)},{default:w(()=>e[10]||(e[10]=[t("option",{value:"2000000"},"Low (Smaller file size)",-1),t("option",{value:"3000000"},"Normal",-1),t("option",{value:"5000000"},"Best (Larger file size)",-1)])),_:1},8,["model-value"]),i(j,{"in-label":"Video Format","model-value":B.value,"onUpdate:modelValue":e[5]||(e[5]=b=>B.value=b)},{default:w(()=>e[11]||(e[11]=[t("option",{value:"video/mp4;codecs=avc1"},"MP4 (Recommended)",-1),t("option",{value:"video/webm;codecs=vp8"},"WebM",-1)])),_:1},8,["model-value"]),U().split(" ")[0]!="Chrome"?(d(),m("p",_e,[i(c,{icon:"info-circle"}),e[12]||(e[12]=k(" Please note that these settings only works on ")),e[13]||(e[13]=t("b",null,"Google Chrome",-1)),e[14]||(e[14]=k(" browser. Other browser may not support this feature or uses their standard settings. "))])):y("",!0),B.value=="video/mp4;codecs=avc1"&&U().split(" ")[0]!="Chrome"?(d(),m("p",Se,[i(c,{icon:"info-circle"}),k(" "+C(U())+" may not support this video format. ",1)])):y("",!0),i(ae,{"bt-disabled":!1,onClick:G,"bt-color":o(n).accentColor},{default:w(()=>e[15]||(e[15]=[k("Start Recording")])),_:1},8,["bt-color"])])])):y("",!0)],64)}}}),Me=N({__name:"DashDefault",setup(a){const s=L();return(r,n)=>{const l=R("RouterView");return d(),P($e,{theme:o(s).mTheme},{default:w(()=>[i(l)]),_:1},8,["theme"])}}});export{Me as default};
