import{l as J,_ as Q,B as Z,a as ee}from"./ThemeSetting.vue_vue_type_style_index_0_lang-vmIWkHMW.js";import{u as L}from"./theme-BU3pgocX.js";import{d as B,r as $,o as d,c as u,a,n as h,b as q,w as T,e as t,f as _,u as o,t as S,F as G,g as m,h as te,i as I,j as oe,k as Y,l as y,m as W,p as C,q as ne}from"./index-DNmQJOfA.js";import{h as ae}from"./moment-C5S46NFB.js";import{_ as M}from"./SelectView.vue_vue_type_style_index_0_lang-DJ_PIa9q.js";import{_ as ie}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-_qYGPHUi.js";import"./axios-BimPEqV4.js";const F=B({__name:"TopNavAnchor",props:{icon:{type:String,required:!0},textTheme:{type:String}},setup(i){return(s,r)=>{const n=$("font-awesome-icon");return d(),u("a",{href:"javascript:void(0)",class:h([i.textTheme?i.textTheme:"text-light","topnav-item"])},[a(n,{icon:i.icon},null,8,["icon"])],2)}}}),le={key:1,href:"javascript:void(0)",class:"navitem-item","active-class":"navitem-active"},w=B({__name:"NavItem",props:{icon:{type:String,required:!0},menuName:{type:String,required:!0},redirect:{type:String,required:!0},textTheme:{type:String,default:"mtext-light"},isNegative:{type:Boolean,required:!1}},setup(i){const s=L();return(r,n)=>{const l=$("font-awesome-icon"),f=$("router-link");return i.redirect?(d(),q(f,{key:0,to:i.redirect,class:"navitem-item","active-class":"navitem-active"},{default:T(()=>[t("div",{style:_({background:`linear-gradient(-310deg,${o(s).accentColor},${o(s).accentColorSecondary})`})},[a(l,{icon:i.icon},null,8,["icon"])],4),t("span",{class:h(i.isNegative?"mtext-danger":i.textTheme)},S(i.menuName),3)]),_:1},8,["to"])):(d(),u("a",le,[t("div",{style:_({background:`linear-gradient(-310deg,${o(s).accentColor},${o(s).accentColorSecondary})`})},[a(l,{icon:i.icon},null,8,["icon"])],4),t("span",{class:h(i.isNegative?"mtext-danger":i.textTheme)},S(i.menuName),3)]))}}}),se=B({__name:"DashSidebarMenu",props:{textTheme:{type:String,required:!0}},emits:["clickSignOut"],setup(i,{emit:s}){const r=L(),n=()=>{r.notifyConfirm("Keluar","Anda yakin ingin keluar?","Ya","Batal",async()=>{try{localStorage.setItem("authToken",""),localStorage.setItem("userid",""),r.notifyAlertSuccess("Berhasil","Anda telah keluar","Oke!",()=>{window.location.href="/login"})}catch{r.notifyAlertSuccess("Gagal","Anda telah keluar","Oke!",()=>{})}},()=>{})};return(l,f)=>(d(),u(G,null,[a(w,{"text-theme":`${i.textTheme}`,icon:"home",redirect:"/dashboard","menu-name":"Dashboard"},null,8,["text-theme"]),t("div",{style:_({color:o(r).accentColor}),class:"aside-menu-divider"},"FOL",4),a(w,{"text-theme":`${i.textTheme}`,icon:"chart-line",redirect:"/fol/monitoring","menu-name":"Monitoring FOL"},null,8,["text-theme"]),a(w,{"text-theme":`${i.textTheme}`,icon:"chart-line",redirect:"/fol/linechart","menu-name":"Line Chart"},null,8,["text-theme"]),a(w,{"text-theme":`${i.textTheme}`,icon:"tachometer-alt",redirect:"/fol/gauge","menu-name":"Gauges"},null,8,["text-theme"]),a(w,{"text-theme":`${i.textTheme}`,icon:"clock",redirect:"/fol/histdata_splitted","menu-name":"History Data - Splitted"},null,8,["text-theme"]),a(w,{"text-theme":`${i.textTheme}`,icon:"play",redirect:"/fol/playback","menu-name":"Playback"},null,8,["text-theme"]),a(w,{"text-theme":`${i.textTheme}`,icon:"microchip",redirect:"/fol/devmon","menu-name":"Device Monitoring"},null,8,["text-theme"]),t("div",{style:_({color:o(r).accentColor}),class:"aside-menu-divider"},"Keluar",4),a(w,{"text-theme":`${i.textTheme}`,icon:"sign-out",redirect:"","is-negative":!0,"menu-name":"Sign-out",onClick:n},null,8,["text-theme"])],64))}}),re="/assets/skk-a155yGtW.webp",ce="/assets/iog-Xuip5NNy.webp",de="/assets/bumn-CTkNxYDZ.webp",ue=()=>{const i=m(!1),s=m([]),r=m("");let n=null;const l=m(""),f=async(v,P,x,O)=>{x=="video/webm;codecs=vp8"?l.value="webm":x=="video/mp4;codecs=avc1"&&MediaRecorder.isTypeSupported("video/mp4;codecs=avc1")?l.value="mp4":(x="video/webm;codecs=vp8",l.value="webm");try{const V=parseInt(O.split("x")[0]),A=parseInt(O.split("x")[1]),U=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:V},height:{ideal:A},frameRate:{ideal:v,max:v}},audio:!1});n=new MediaRecorder(U,{mimeType:x,videoBitsPerSecond:P}),n.ondataavailable=b=>{b.data.size>0&&s.value.push(b.data)},n.onstop=()=>{const b=new Blob(s.value,{type:x.split(";")[0]}),N=URL.createObjectURL(b);r.value=N,R(),k()},setTimeout(()=>{n.start(),i.value=!0},1e3)}catch(V){console.error("Gagal merekam layar:",V)}},k=()=>{n&&i.value&&(n.stop(),i.value=!1,n.stream.getTracks().forEach(v=>v.stop()))},R=()=>{if(r.value){const v=document.createElement("a");v.href=r.value,v.download=`recording-${Date.now()}.${l.value}`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(r.value),k()}};return{isRecording:i,downloadUrl:r,startRecording:f,stopRecording:k}},me={style:{display:"flex","flex-flow":"row-nowrap","justify-content":"flex-start",gap:"1rem","align-items":"center"}},ve=["src"],pe={class:"nav-gr"},ge={class:"nav-crumb"},he={class:"nav-gr"},fe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start",gap:"0.8rem","margin-right":"0.8rem"}},xe=["src"],be=["src"],ye=["src"],ke={class:"aside-header"},we={class:"aside-menu"},Te={class:"copyright"},Ce={key:4,class:"rec-opt-window"},Se={class:"rec-opt-inner"},_e={key:0,style:{"font-size":"12px","margin-top":"1rem"}},$e={key:1,style:{"font-size":"12px"}},Re=B({__name:"DashNavLight",props:{theme:{type:String}},setup(i){const s=ue(),r=te(),n=L(),l=m(!1),f=m(!1),k=m(!1);m(!1);const R=()=>{l.value=window.innerWidth<768};I(()=>{R(),window.addEventListener("resize",R)}),oe(()=>{window.removeEventListener("resize",R)});const v=p=>{console.log(p)},P=()=>{k.value=!k.value},x=()=>{f.value=!f.value},O=m(0),V=()=>{O.value=window.scrollY||window.pageYOffset};I(()=>{window.addEventListener("scroll",V)});const A=()=>{const p=document.getElementById("mainview");p&&p.scrollIntoView({behavior:"smooth",block:"start"})},U=()=>{n.asideToggle()};Y(()=>l.value,()=>{l.value&&n.notifyAlertError("Peringatan","Tidak sarankan dijalankan pada perangkat Mobile karena dapat mempengaruhi performa","Tutup",()=>{})});const b=m(!1),N=m(60),E=m(5e6),D=m("video/mp4;codecs=avc1"),j=m("1920x1080"),H=()=>{b.value=!1,s.startRecording(N.value,E.value,D.value,j.value),console.log(s.isRecording.value)},K=()=>{s.stopRecording(),console.log(s.isRecording.value)};Y(()=>s.isRecording.value,p=>{s.isRecording.value||console.log(s.downloadUrl.value)});const z=()=>{const p=navigator.userAgent;let e,c=p.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(c[1])?(e=/\brv[ :]+(\d+)/g.exec(p)||[],`IE ${e[1]}`):c[1]==="Chrome"&&(e=p.match(/\bOPR\/(\d+)/),e!=null)?`Opera ${e[1]}`:(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=p.match(/version\/(\d+)/i))!=null&&c.splice(1,1,e[1]),c.join(" "))};return(p,e)=>{const c=$("font-awesome-icon"),X=$("router-link");return d(),u(G,null,[t("nav",{class:h([`${o(n).asideVisible?"nav-main":"nav-main-full"}`,o(n).mTheme,l.value?"topnav-mobile":""])},[t("div",me,[l.value?y("",!0):(d(),u("button",{key:0,onClick:U,class:h([[`${o(n).textTheme}`],"side-hide"])},[a(c,{icon:o(n).asideVisible?"arrow-left":"bars"},null,8,["icon"])],2)),o(n).asideVisible?y("",!0):(d(),u("img",{key:1,src:o(J),class:"prt-1"},null,8,ve))]),t("div",pe,[t("div",ge,[t("div",{class:h(o(n).textTheme)},[a(X,{to:"/dashboard",style:_({color:o(n).accentColor}),class:"nav-crumb-link"},{default:T(()=>[t("span",{style:_({background:o(n).gradientValue,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text"})},S(o(W).appName),5)]),_:1},8,["style"]),C(" ··· "+S(o(r).name),1)],2),t("div",{class:h(o(n).textTheme)},S(o(r).name),3)])]),t("div",he,[l.value?(d(),q(F,{key:0,onClick:x,icon:"bars","text-theme":o(n).textTheme},null,8,["text-theme"])):y("",!0),t("div",fe,[t("img",{src:o(re),class:"prt"},null,8,xe),t("img",{src:o(ce),class:"prt"},null,8,be),t("img",{src:o(de),class:"prt"},null,8,ye)]),a(Q,{style:{"margin-right":"5px"}}),a(F,{onClick:P,icon:"gear","text-theme":o(n).textTheme},null,8,["text-theme"]),a(F,{icon:"sign-out","text-theme":o(n).textTheme},null,8,["text-theme"])])],2),o(n).asideVisible?(d(),u("aside",{key:0,class:h(["aside-main",o(n).mTheme,l.value?"sidenav-mobile":"",f.value?"sidenav-show":""])},[f.value?(d(),u("button",{key:0,onClick:x,class:h([o(n).textTheme,"navmob-dismiss"]),type:"button"},[a(c,{icon:"arrow-left"})],2)):y("",!0),t("div",ke,[a(Z,{"site-name":o(W).appName},null,8,["site-name"])]),e[9]||(e[9]=t("div",{class:"separator"},null,-1)),t("div",we,[a(se,{onClickSignOut:v,"text-theme":o(n).textTheme},null,8,["text-theme"])]),t("span",Te,[t("i",null,[C("Copyright © "+S(o(ae)().format("YYYY"))+" ",1),e[7]||(e[7]=t("b",null,"FOL Production Jambi Data Center",-1)),e[8]||(e[8]=C(" all rights reserved"))])])],2)):y("",!0),a(ee,{visible:k.value,"onUpdate:visible":e[0]||(e[0]=g=>k.value=g)},null,8,["visible"]),t("div",{id:"mainview",class:h([`${o(n).asideVisible?"main-wrapper":"main-wrapper-full"}`,l.value?"main-wrapper-mobile":""])},[ne(p.$slots,"default")],2),O.value?(d(),u("button",{key:1,onClick:A,style:_({backgroundColor:o(n).accentColor}),type:"button",class:"scrolltotop"},[a(c,{icon:"arrow-up"})],4)):y("",!0),o(s).isRecording.value?(d(),u("button",{key:3,class:"record-btn",onClick:K},[a(c,{icon:"stop"})])):(d(),u("button",{key:2,class:"record-btn",onClick:e[1]||(e[1]=g=>b.value=!0)},[a(c,{icon:"video"})])),b.value?(d(),u("div",Ce,[t("div",Se,[t("button",{type:"button",class:"rec-opt-dismiss",onClick:e[2]||(e[2]=g=>b.value=!1)},[a(c,{icon:"times"})]),e[18]||(e[18]=t("h4",null,[t("b",null,"Recording Option")],-1)),a(M,{"in-label":"Resolution","model-value":j.value,"onUpdate:modelValue":e[3]||(e[3]=g=>j.value=g)},{default:T(()=>e[10]||(e[10]=[t("option",{value:"1920x1080"},"1920x1080 (Full HD)",-1),t("option",{value:"1600x900"},"1600x900",-1),t("option",{value:"1366x768"},"1366x768 (HD)",-1),t("option",{value:"1280x720"},"1280x720",-1),t("option",{value:"1024x768"},"1024x768 (XGA)",-1),t("option",{value:"800x600"},"800x600 (Best performance, worst quality)",-1)])),_:1},8,["model-value"]),a(M,{"in-label":"Frames","model-value":N.value,"onUpdate:modelValue":e[4]||(e[4]=g=>N.value=g)},{default:T(()=>e[11]||(e[11]=[t("option",{value:"30"},"30 FPS",-1),t("option",{value:"45"},"45 FPS",-1),t("option",{value:"60"},"60 FPS",-1),t("option",{value:"120"},"120 FPS (Smooth playback)",-1)])),_:1},8,["model-value"]),a(M,{"in-label":"Bitrate","model-value":E.value,"onUpdate:modelValue":e[5]||(e[5]=g=>E.value=g)},{default:T(()=>e[12]||(e[12]=[t("option",{value:"2000000"},"Best Performace (Smaller file size)",-1),t("option",{value:"3000000"},"Normal",-1),t("option",{value:"5000000"},"Best Quality (Larger file size)",-1)])),_:1},8,["model-value"]),a(M,{"in-label":"Video Encoding","model-value":D.value,"onUpdate:modelValue":e[6]||(e[6]=g=>D.value=g)},{default:T(()=>e[13]||(e[13]=[t("option",{value:"video/mp4;codecs=avc1"},"MP4 (Recommended)",-1),t("option",{value:"video/webm;codecs=vp8"},"WebM",-1)])),_:1},8,["model-value"]),z().split(" ")[0]!="Chrome"?(d(),u("p",_e,[a(c,{icon:"info-circle"}),e[14]||(e[14]=C(" Please note that these settings only works on ")),e[15]||(e[15]=t("b",null,"Google Chrome",-1)),e[16]||(e[16]=C(" browser. Other browser may not support this feature or uses their standard settings. "))])):y("",!0),D.value=="video/mp4;codecs=avc1"&&z().split(" ")[0]!="Chrome"?(d(),u("p",$e,[a(c,{icon:"info-circle"}),C(" "+S(z())+" may not support this video format. ",1)])):y("",!0),a(ie,{"bt-disabled":!1,onClick:H,"bt-color":o(n).accentColor},{default:T(()=>e[17]||(e[17]=[C("Start Recording")])),_:1},8,["bt-color"])])])):y("",!0)],64)}}}),Pe=B({__name:"DashDefault",setup(i){const s=L();return(r,n)=>{const l=$("RouterView");return d(),q(Re,{theme:o(s).mTheme},{default:T(()=>[a(l)]),_:1},8,["theme"])}}});export{Pe as default};
