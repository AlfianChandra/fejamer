import{u as fe}from"./theme-BU3pgocX.js";import{d as Me,i as we}from"./index-CehbAW_K.js";import{_ as $e}from"./MainWrapperView.vue_vue_type_style_index_0_lang-AgYqMQut.js";import{_ as pe}from"./SelectView.vue_vue_type_style_index_0_lang-DJ_PIa9q.js";import{_ as q}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-_qYGPHUi.js";import{_ as be}from"./ModalEditorView.vue_vue_type_style_index_0_lang-Bph9UChI.js";import{d as ye,r as xe,o as C,c as A,e as l,f as J,u as L,t as K,a as s,p as Y,w as h,g as n,k as P,i as ke,j as Te,n as ne,l as ae,m as me,_ as _e,x as Ce,C as Ie,b as ge,F as ce,y as he}from"./index-DNmQJOfA.js";import{a as ve}from"./axios-BimPEqV4.js";import{u as Ae}from"./spotModel-CRIinXcD.js";import{_ as W}from"./InputView.vue_vue_type_style_index_0_lang-CBfA6Y0q.js";import{_ as Oe}from"./BatteryView.vue_vue_type_style_index_0_computed_true_lang-spSnf0F-.js";import"./moment-C5S46NFB.js";const Ve={class:"itemlist-wrapper"},Fe={class:"itemlist-group"},Pe=ye({__name:"ItemList",props:{itemName:{type:String,required:!0},itemDesc:{type:String,required:!0},itemId:{type:String,required:!0},itemSafemark:{type:Number,default:0,required:!0}},emits:["onItemSelect"],setup(ee,{emit:te}){const I=fe(),$=te,u=ee,S=()=>{$("onItemSelect",{id:u.itemId,name:u.itemName,desc:u.itemDesc})};return(H,_)=>{const p=xe("font-awesome-icon");return C(),A("div",Ve,[l("div",Fe,[l("span",{style:J({color:L(I).accentColor})},[l("b",null,K(ee.itemName),1)],4),l("span",{style:J({color:L(I).accentColor})},[s(p,{icon:"map-pin"}),Y(" "+K(ee.itemDesc),1)],4)]),s(q,{onClick:S,"bt-disabled":!1,"bt-size":"small"},{default:h(()=>[s(p,{icon:"plus"})]),_:1})])}}}),Le={class:"chart-container"},Ne={class:"col-md-4"},Ue={class:"loaderparent"},Re=ye({__name:"LiveMonitorChart",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(ee){const te=ee,I=n(!0),$=n(null),u=n(null),S=fe(),H=n(15),_=n([]),p=n(0),b=n("Building chart..."),T=n("Initializing..."),w=n(0),O=n({tooltip:{trigger:"axis",axisPointer:{type:"cross"}}}),a=m=>new Date(m).toISOString(),d=async()=>new Promise((m,v)=>{ve.get(me.baseEnd+"api/Spot/getspots").then(f=>{m(f.data)}).catch(f=>{console.error(f),v(f)})});P(()=>$.value,async()=>{N(),await d().then(m=>{_.value=m})});const N=()=>{if(p.value=5,$.value){const m=we($.value);u.value=m,u.value.setOption(O.value)}},z=async()=>new Promise(async(m,v)=>{try{const f=[],E=new Set,U=_.value.length;let Q=0;T.value="Setting up...";for(let y=0;y<_.value.length;y++){T.value=`Applying filter for ${_.value[y].spotName}...`;const j={id:_.value[y].id+"",date:a(te.dateFilter),timespan:te.timeFilter+"",firstrequest:I.value},x=await ve.post(me.baseEnd+"api/Data/getsingledata",j);for(let B=0;B<x.data.length;B++)setTimeout(()=>{w.value++},1);const X=x.data.map(B=>{const oe=B.timestamp.replace(".",":").split("T")[1],[re,ue]=oe.split(":"),c=`${re}:${ue}`;return E.add(c),c}),k=x.data.map(B=>parseFloat(B.psiValue));f.push({psies:k,categories:X}),Q+=1;const V=Q/U*90;p.value=Math.round(V)}const G=Array.from(E).sort((y,j)=>{const[x,X]=y.split(":").map(Number),[k,V]=j.split(":").map(Number);return x!==k?x-k:X-V}),le=f.map((y,j)=>{const x={};y.categories.forEach((k,V)=>{x[k]=y.psies[V]});const X=G.map(k=>x[k]!==void 0?parseFloat(x[k]):null);return{name:`${_.value[j].spotName}`,type:"line",data:X,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:1.5},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(k){let V=0;const B=f[k.seriesIndex].psies.length;for(let Z=0;Z<B;Z++)f[k.seriesIndex].psies[Z]!==null&&(V=f[k.seriesIndex].psies[Z]);return V.toFixed(2)}}}}),R={backgroundColor:"transparent",legend:{data:le.map(y=>({name:y.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:G,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(y){return y.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${S.accentColor}`,rotate:-45,interval:y=>{const[j,x]=G[y].split(":").map(Number);return x%H.value===0},formatter:function(y){return y}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:le};m(R)}catch(f){console.error(f),v(f)}});return P(()=>_.value,async()=>{await z().then(m=>{u.value.setOption(m),T.value="Drawing series...",p.value=99.99,setTimeout(()=>{p.value=100,w.value=0},2e3)})}),P(()=>H.value,async()=>{p.value=5,T.value="Setting up...",b.value="Options & filter updated. Rebuilding chart with new series...",u.value&&(u.value=null),N(),setTimeout(async()=>{await z().then(m=>{u.value.setOption(m),p.value=99.99,T.value="Drawing series...",setTimeout(()=>{p.value=100,w.value=0},2e3)})},1e3)}),ke(()=>{N()}),Te(()=>{$.value&&Me($.value)}),(m,v)=>(C(),A("div",Le,[v[3]||(v[3]=l("h4",{style:{padding:"15px"}},"Live Monitor Chart",-1)),l("div",Ne,[s(pe,{"in-label":"X-Axis Time Split","model-value":H.value,"onUpdate:modelValue":v[0]||(v[0]=f=>H.value=f)},{default:h(()=>v[1]||(v[1]=[l("option",{value:"5"},"5 Minutes",-1),l("option",{value:"10"},"10 Minutes",-1),l("option",{value:"15"},"15 Minutes",-1),l("option",{value:"30"},"30 Minutes",-1),l("option",{value:"45"},"45 Minutes",-1),l("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),l("div",{ref_key:"chart",ref:$,style:{width:"100%",position:"relative",height:"90%"}},null,512),p.value!=100?(C(),A("div",{key:0,class:ne(["chartloader",[`${L(S).mTheme}`]])},[v[2]||(v[2]=l("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),l("span",{class:ne([`${L(S).textTheme}`])},K(b.value)+" ("+K(w.value)+" objects collected)",3),l("span",{style:J({color:`${L(S).accentColorSecondary}`})},K(T.value),5),l("div",Ue,[l("span",{style:J({width:`${p.value}%`,background:`${L(S).accentColor}`}),class:"loaderinner"},null,4)])],2)):ae("",!0)]))}}),qe=_e(Re,[["__scopeId","data-v-42e8113a"]]),ze={style:{display:"flex","flex-flow":"column","margin-bottom":"1rem"}},Ee=["id"],je={key:0,style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end",gap:"0.5rem","margin-bottom":"1.5rem"}},Be={contenteditable:"true",spellcheck:"false"},He=ye({__name:"ChartView2",props:{filterDate:{type:String,required:!0},filterTime:{type:Number,required:!0},spotId:{type:String,required:!0},chartName:{type:String,required:!0},yMax:{type:Number,required:!0,default:350},yMin:{type:Number,required:!0,default:0},gridview:{type:Boolean,default:!1},tickAmount:{type:Number,default:100},dataFetchInterval:{type:Number,default:1e4},curveType:{type:Boolean,default:!1},safeMark:{type:Number,default:0},isDataPaused:Boolean,showUis:{type:Boolean,default:!0},yInterval:{type:Number,default:0}},emits:["onChartClose","onChartReady","onPause","onResume","onDrawingMode"],setup(ee,{emit:te}){const I=n([]),$=n([]),u=te,S=fe(),H=n(!1),_=n(!0),p=n(null),b=n(null),T=n(!1),w=n(!1);let O;const a=ee,d=n(a.safeMark),N=n(!1),z=n(a.yMax),m=n(a.yMin),v=n(a.tickAmount),f=n(50),E=n(a.dataFetchInterval),U=n(a.curveType),Q=n(!0),G=n(!0);function le(c,i){return{tooltip:{show:!0,trigger:"item",axisPointer:{type:"cross",axis:"auto",label:{show:!0}}},xAxis:[{type:"category",interval:v.value,axisLine:{show:!0,lineStyle:{color:S.accentColor}},splitLine:{show:G,lineStyle:{color:"#ddd",type:"dashed"}},axisTick:{show:!0},boundaryGap:!1,axisLabel:{rotate:45},data:[]}],yAxis:[{type:"value",min:m.value,max:c,minorTick:{show:!0},axisTick:{show:!0},minorSplitLine:{show:Q,lineStyle:{color:"#ddd",type:"dashed"}},interval:a.yInterval,axisLine:{show:!0,lineStyle:{color:S.accentColor}},axisLabel:{formatter:"{value}"}}],series:[{name:"PSI Data",type:"line",symbol:"none",data:[],smooth:i,lineStyle:{width:1.2,join:"miter",miterLimit:3,cap:"round"},tooltip:{position:["50%","50%"]},endLabel:{show:!0,distance:0,formatter:function(F){const o=F.dataIndex,e=R.value.series[0].data;console.log(e);let r=0;for(let D=0;D<e.length;D++)e[D]>r&&(r=e[D]);let t=0,g=0;for(let D=0;D<e.length;D++){const M=parseInt(e[D]);(parseInt(a.spotId)==1&&M>=120&&M<=200||parseInt(a.spotId)==2&&M>=45&&M<=100||parseInt(a.spotId)==3&&M>=30&&M<=75||parseInt(a.spotId)==4&&M>=20&&M<=30)&&(t+=M,g++)}const se=t/g,ie=e.length-1;if(o===ie){const D=F.value,M=r,de=(M-D)/M*100;return`Curr: ${F.value}
Avg: ${se.toFixed(2)}
Del: ${de>0?"-"+de.toFixed(2):"+"+de.toFixed(2)}%`}return""},color:"black",backgroundColor:"white",padding:5,borderRadius:5}},{name:"Safe Mark",type:"line",tooltip:{trigger:"item"},lineStyle:{color:"red",type:"solid"},markLine:{symbol:"none",label:{show:!1},lineStyle:{color:"red",type:"dashed"},data:[{yAxis:d.value}]}}]}}P(()=>d.value,()=>{var c;R.value.series[1].markLine.data[0].yAxis=d.value,(c=b.value)==null||c.setOption(R.value)});const R=n(le(a.yMax,a.curveType));P(()=>[z.value,m.value,v.value,E.value,U.value,f.value,Q.value,G.value],()=>{b.value.setOption(R.value)});const y=()=>{var c;!b.value&&p.value&&(b.value=we(p.value)),(c=b.value)==null||c.setOption(R.value)},j=c=>new Date(c).toISOString(),x=async()=>{var i;const c={id:a.spotId+"",date:j(a.filterDate),timespan:a.filterTime+""};try{const o=(await ve.post(me.baseEnd+"api/Data/getalldata",c)).data,e=o.map(t=>{const se=t.timestamp.replace(".",":").split("T")[1],[ie,D]=se.split(":");return`${ie}:${D}`}),r=o.map(t=>parseFloat(t.psiValue).toFixed(2)).map(t=>parseFloat(t));I.value=e,$.value=r,r.length?(T.value=!1,R.value.xAxis[0].data=e,R.value.series[0].data=r,(i=b.value)==null||i.setOption(R.value)):(T.value=!0,_.value=!1)}catch(F){console.error("Error fetching chart data:",F)}},X=()=>{const c=new Date().toISOString().slice(0,10);if(a.filterDate.slice(0,10)!==c){O&&clearInterval(O);return}else O&&clearInterval(O),O=setInterval(()=>{w.value||x()},E.value)};P(()=>p.value,()=>{p.value&&y()}),P(()=>a.gridview,()=>{b.value&&setTimeout(()=>{var c;(c=b.value)==null||c.resize()},500)}),P(()=>a.dataFetchInterval,()=>{E.value=a.dataFetchInterval,X()}),P(()=>[p.value],()=>{x(),X()}),Te(()=>{clearInterval(O)});let k=null;P(()=>[a.filterDate,a.filterTime,a.yMax,a.yMin,a.tickAmount,a.curveType],()=>{k&&clearTimeout(k),k=setTimeout(()=>{z.value=a.yMax,m.value=a.yMin,v.value=a.tickAmount,U.value=a.curveType,E.value=a.dataFetchInterval,R.value=le(a.yMax,a.curveType),_.value=!0,H.value=!1},300)});let V=null;P(()=>[z.value,m.value,v.value,E.value,U.value],()=>{V&&clearTimeout(V),V=setTimeout(()=>{x()},500)}),S.$subscribe((c,i)=>{setTimeout(()=>{x()},2e3)});const B=()=>{u("onChartClose",a.spotId)},Z=()=>{N.value=!N.value},oe=()=>{N.value=!1},re=()=>{w.value=!w.value,w.value?u("onPause",a.spotId):u("onResume",a.spotId)};P(()=>[a.isDataPaused],()=>{w.value=a.isDataPaused,w.value?u("onPause",a.spotId):u("onResume",a.spotId)}),P(()=>w.value,()=>{w.value?u("onPause",a.spotId):u("onResume",a.spotId)}),P(()=>S.asideVisible,()=>{b.value&&setTimeout(()=>{var c;(c=b.value)==null||c.resize()},500)});const ue=()=>{u("onDrawingMode",a.spotId)};return ke(()=>{console.log("DATA",a.filterDate)}),(c,i)=>{const F=xe("font-awesome-icon");return C(),A(ce,null,[s(be,{"mod-show":N.value,"onUpdate:modShow":i[9]||(i[9]=o=>N.value=o),"mod-title":`${a.chartName} Preferences`},{default:h(()=>[s(W,{"in-type":"number","in-label":"Safemark","model-value":d.value,"onUpdate:modelValue":i[0]||(i[0]=o=>d.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"Y-Axis Max Tick","model-value":z.value,"onUpdate:modelValue":i[1]||(i[1]=o=>z.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"Y-Axis Min Tick","model-value":m.value,"onUpdate:modelValue":i[2]||(i[2]=o=>m.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"Y-Axis Interval","model-value":f.value,"onUpdate:modelValue":i[3]||(i[3]=o=>f.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"X-Axis Tick Amount","model-value":v.value,"onUpdate:modelValue":i[4]||(i[4]=o=>v.value=o)},null,8,["model-value"]),s(W,{"in-type":"number","in-label":"Data Update Interval (Milisecond)","model-value":E.value,"onUpdate:modelValue":i[5]||(i[5]=o=>E.value=o)},null,8,["model-value"]),s(pe,{"in-label":"Curve Type","model-value":U.value,"onUpdate:modelValue":i[6]||(i[6]=o=>U.value=o)},{default:h(()=>i[10]||(i[10]=[l("option",{value:"true"},"Smooth",-1),l("option",{value:"false"},"Straight",-1)])),_:1},8,["model-value"]),l("div",ze,[l("label",null,[Ce(l("input",{type:"checkbox","onUpdate:modelValue":i[7]||(i[7]=o=>Q.value=o)},null,512),[[Ie,Q.value]]),i[11]||(i[11]=Y(" Show Y-Axis Minor Split "))]),l("label",null,[Ce(l("input",{type:"checkbox","onUpdate:modelValue":i[8]||(i[8]=o=>G.value=o)},null,512),[[Ie,G.value]]),i[12]||(i[12]=Y(" Show X-Axis Split "))])]),s(q,{onClick:oe,"bt-type":"button","bt-disabled":!1},{default:h(()=>i[13]||(i[13]=[Y("Dismiss")])),_:1})]),_:1},8,["mod-show","mod-title"]),l("div",{id:`chart${a.spotId}`,style:J({width:a.gridview?L(S).asideVisible?"680px":"600.5px":"100%"}),class:ne(["chartwrap",w.value?"chartwrap-paused":""])},[a.showUis?(C(),A("div",je,[s(q,{onClick:ue,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:h(()=>[s(F,{icon:"edit"})]),_:1}),s(q,{onClick:re,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:h(()=>[s(F,{icon:w.value?"pause":"play"},null,8,["icon"])]),_:1}),$.value.length?(C(),ge(q,{key:0,onClick:Z,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:h(()=>[s(F,{icon:"sliders"})]),_:1})):ae("",!0),s(q,{onClick:B,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:h(()=>[s(F,{icon:"close"})]),_:1})])):ae("",!0),s(Oe,{"id-spot":parseInt(a.spotId)},null,8,["id-spot"]),l("h4",{style:J({textAlign:"center",color:L(S).accentColor})},[l("b",Be,"SPOT: "+K(a.chartName),1)],4),$.value.length?(C(),A("p",{key:1,style:{"text-align":"center","margin-bottom":"5px"},class:ne(L(S).textTheme)}," Displaying data for last "+K(a.filterTime)+" hour(s) on "+K(a.filterDate),3)):ae("",!0),l("div",{ref_key:"chartRef",ref:p,style:{width:"100%",height:"600px"}},null,512)],14,Ee)],64)}}}),Ye={key:0,class:"live-window"},We={key:1,class:"drw-wd"},Ge={class:"row"},Xe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Je={class:"col-md-12"},Ke={class:"col-md-12"},Qe={style:{display:"flex","flex-flow":"row wrap",gap:"0.3rem"}},Ze={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},et={class:"spot-reading-control"},tt={class:"spot-basket"},at=["onClick","onDblclick"],lt={key:0,style:{"margin-top":"1rem",display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},yt=ye({__name:"MonitoringFol",setup(ee){const te=Ae(),I=fe();I.asideToggle(!0);const $=n(null),u=n(!1),S=n(300),H=n(0),_=n(30),p=n(1e4),b=n(!1),T=n(""),w=n("straight"),O=n(24),a=n(!1),d=n([]),N=n(1),z=()=>{N.value<Object.keys(d).length&&setTimeout(()=>{N.value++,z()},1e3)},m=()=>{const o=new Date,e=o.getFullYear(),r=String(o.getMonth()+1).padStart(2,"0"),t=String(o.getDate()).padStart(2,"0"),g=`${e}-${r}-${t}`;T.value=g};ke(async()=>{await te.getSpots().then(o=>{m(),setTimeout(()=>{d.value=o,console.log("SPOTS",d.value),z()},1e3)})});const v=()=>{a.value=!0},f=o=>{a.value=!1,d.value.some(r=>r[o.id])?I.notifyShowError("Selected spot already displayed"):d.value.push({[o.id]:o})},E=o=>{delete d.value[o]},U=n(!1),Q=()=>{U.value=!U.value},G=()=>{U.value=!1,I.notifyShow("Options has been applied")},le=o=>{const e=document.getElementById("chart"+o);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},R=()=>{u.value=!u.value},y=o=>{d.value=d.value.filter(e=>!e[o])};let j=n([]);const x=o=>{j.value.push({id:o});const e=`spotdata-${o}`,r=document.querySelector(`.${e}`);r?(r.style.background="red",r.style.color="white"):console.warn(`Element dengan class ${e} gak ditemukan bro!`)},X=o=>{const e=`spotdata-${o}`,r=document.querySelector(`.${e}`);r?(r.style.background="#000",r.style.color="#fff"):console.warn(`Element dengan class ${e} gak ditemukan bro!`);const t=j.value.findIndex(g=>g.id===o);j.value.splice(t,1)},k=()=>{b.value=!1},V=()=>{b.value=!0},B=o=>new Date(o).toISOString(),Z=async o=>new Promise(async(e,r)=>{try{const t={id:o,date:B(T.value),timespan:O.value+"",firstrequest:!1},g=await ve.post(me.baseEnd+"api/Data/getsingledata",t),se=g.data.map(D=>{const Se=D.timestamp.replace(".",":").split("T")[1],[de,De]=Se.split(":");return`${de}:${De}`}),ie=g.data.map(D=>parseFloat(D.psiValue).toFixed(2));e({cats:se,series:ie})}catch(t){r(t)}}),oe=n(!1),re=o=>{b.value=!0,oe.value=!0,setTimeout(()=>{ue(o)},3e3)},ue=async o=>{const e=we($.value);await Z(o).then(r=>{const t=r.cats,g=r.series,se={graphic:[{type:"rect",shape:{x:0,y:0,width:e.getWidth(),height:e.getHeight()},style:{fill:"transparent"},onmousemove:function(ie){}}],backgroundColor:"#fff",tooltip:{trigger:"axis"},xAxis:{type:"category",data:t},yAxis:{type:"value",min:0,max:350},series:[{type:"line",data:g,color:t.map(()=>`${I.accentColor}`)}]};e.setOption(se),e.setOption({yAxis:{name:"Pressure (PSI)"}})})},c=()=>{oe.value=!1},i=n(!1),F=()=>{i.value=!i.value,b.value=!b.value};return(o,e)=>{const r=xe("font-awesome-icon");return C(),A(ce,null,[i.value?(C(),A("div",Ye,[l("div",{class:ne(["live-window-inner",[`${L(I).mTheme}`]])},[l("button",{style:J({color:`${L(I).accentColor}`}),type:"button",class:"drwclose",onClick:F},[s(r,{icon:"close"})],4),s(qe,{"date-filter":T.value,"time-filter":O.value},null,8,["date-filter","time-filter"])],2)])):ae("",!0),oe.value?(C(),A("div",We,[l("div",{class:"drw-inner",style:J({background:`${L(I).themeDarkColor}`})},[l("button",{onClick:c,type:"button",style:J({color:`${L(I).accentColor}`}),class:"drwclose"},[s(r,{icon:"close"})],4),l("div",{ref_key:"eCharts",ref:$,style:{width:"100%",height:"100%",position:"relative"}},null,512)],4)])):ae("",!0),s(be,{"mod-show":a.value,"onUpdate:modShow":e[0]||(e[0]=t=>a.value=t),"mod-title":"Select spot"},{default:h(()=>[(C(!0),A(ce,null,he(Object.keys(d.value),t=>(C(),ge(Pe,{key:t,onOnItemSelect:f,"item-id":d.value[t].id,"item-name":d.value[t].name,"item-desc":d.value[t].desc,"item-safemark":d.value[t].safemark},null,8,["item-id","item-name","item-desc","item-safemark"]))),128))]),_:1},8,["mod-show"]),s(be,{"mod-show":U.value,"onUpdate:modShow":e[6]||(e[6]=t=>U.value=t),"mod-title":"Global Chart Preference"},{default:h(()=>[l("p",{style:J({color:L(I).accentColor})},"These parameters applies to all displayed charts",4),s(W,{"in-label":"Y-Axis Max Tick Range","in-type":"number","model-value":S.value,"onUpdate:modelValue":e[1]||(e[1]=t=>S.value=t)},null,8,["model-value"]),s(W,{"in-label":"Y-Axis Min Tick Range","in-type":"number","model-value":H.value,"onUpdate:modelValue":e[2]||(e[2]=t=>H.value=t)},null,8,["model-value"]),s(W,{"in-label":"X-Axis Tick Amount","in-helper":"Greater value produces denser tick rates while lesser value loosen it but trims certain data in some points of time","in-type":"number","model-value":_.value,"onUpdate:modelValue":e[3]||(e[3]=t=>_.value=t)},null,8,["model-value"]),s(W,{"in-label":"Data Update Interval (Milisecond)","in-helper":"Higher value increases the delay while lower value decreases it. Warning: Lower value require more resources and may significantly affect client-side performance","in-type":"number","model-value":p.value,"onUpdate:modelValue":e[4]||(e[4]=t=>p.value=t)},null,8,["model-value"]),s(pe,{"in-label":"Curve Type","model-value":w.value,"onUpdate:modelValue":e[5]||(e[5]=t=>w.value=t)},{default:h(()=>e[9]||(e[9]=[l("option",{value:"smooth"},"Smooth",-1),l("option",{value:"straight"},"Straight",-1),l("option",{value:"monotoneCubic"},"Monotone Cubic",-1),l("option",{value:"stepline"},"Stepline",-1),l("option",{value:"linestep"},"Linestep",-1)])),_:1},8,["model-value"]),s(q,{onClick:G,"bt-type":"button","bt-disabled":!1},{default:h(()=>e[10]||(e[10]=[Y("Dismiss")])),_:1})]),_:1},8,["mod-show"]),s($e,{"context-title":"Monitoring FOL"},{default:h(()=>[l("div",Ge,[l("div",Xe,[s(q,{onClick:Q,"bt-size":"small","bt-disabled":!1},{default:h(()=>[s(r,{icon:"sliders"}),e[11]||(e[11]=Y(" Global Chart Preferences"))]),_:1})]),l("div",Je,[s(W,{"in-type":"date","in-label":"Date Filter","model-value":T.value,"onUpdate:modelValue":e[7]||(e[7]=t=>T.value=t)},null,8,["model-value"]),s(pe,{"in-label":"Time Range Filter","model-value":O.value,"onUpdate:modelValue":e[8]||(e[8]=t=>O.value=t)},{default:h(()=>e[12]||(e[12]=[l("option",{value:"1"},"1 Hour",-1),l("option",{value:"3"},"3 Hours",-1),l("option",{value:"6"},"6 Hours",-1),l("option",{value:"12"},"12 Hours",-1),l("option",{value:"24"},"24 Hours",-1)])),_:1},8,["model-value"]),l("div",Ke,[l("div",Qe,[s(q,{onClick:F,"bt-size":"small","bt-disabled":!1},{default:h(()=>[s(r,{icon:"chart-line"}),e[13]||(e[13]=Y(" Live Data Monitoring"))]),_:1})]),e[14]||(e[14]=l("hr",null,null,-1))]),l("div",Ze,[s(q,{onClick:v,"bt-type":"button","bt-disabled":!1,"bt-size":"small"},{default:h(()=>[s(r,{icon:"add"}),e[15]||(e[15]=Y(" Add Chart"))]),_:1})]),l("div",et,[s(q,{onClick:k,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:h(()=>[s(r,{icon:"play"}),e[16]||(e[16]=Y(" Resume All"))]),_:1}),s(q,{onClick:V,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:h(()=>[s(r,{icon:"pause"}),e[17]||(e[17]=Y(" Pause All"))]),_:1})]),l("div",tt,[(C(!0),A(ce,null,he(Object.keys(d.value),t=>(C(),A("span",{title:"Click to navigate to this spot",key:t,class:ne(["spot-data",`spotdata-${t}`]),onClick:g=>le(t),onDblclick:g=>E(t)},[l("span",null,K(d.value[t].name+" - "+d.value[t].desc),1)],42,at))),128))]),Object.keys(d.value)?(C(),A("div",lt,[s(q,{onClick:R,"bt-disabled":!1,"bt-size":"small"},{default:h(()=>[s(r,{icon:u.value?"grip-vertical":"expand"},null,8,["icon"]),Y(" "+K(u.value?"Grid chart view":"Full chart view"),1)]),_:1})])):ae("",!0),l("div",{style:{},class:ne(u.value?"chart-basket-gridview":"chart-basket-fullview")},[(C(!0),A(ce,null,he(d.value,(t,g)=>(C(),A("div",{key:g},[g<N.value?(C(),ge(He,{key:0,onOnChartReady:z,id:"chart"+Object.keys(t)[0],"chart-name":t.name,"filter-date":T.value,"filter-time":O.value,"safe-mark":t.safemark,"spot-id":t.id,"curve-type":w.value,"y-max":t.yMax,"y-min":H.value,"tick-amount":_.value,"y-interval":t.yInterval,"data-fetch-interval":p.value,gridview:u.value,"is-data-paused":b.value,onOnDrawingMode:re,onOnChartClose:y,onOnPause:x,onOnResume:X},null,8,["id","chart-name","filter-date","filter-time","safe-mark","spot-id","curve-type","y-max","y-min","tick-amount","y-interval","data-fetch-interval","gridview","is-data-paused"])):ae("",!0)]))),128))],2)])])]),_:1})],64)}}});export{yt as default};
